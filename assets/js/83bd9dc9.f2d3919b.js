"use strict";(self.webpackChunkTIL=self.webpackChunkTIL||[]).push([[20],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return d}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),p=u(n),d=r,k=p["".concat(s,".").concat(d)]||p[d]||c[d]||l;return n?a.createElement(k,o(o({ref:t},m),{},{components:n})):a.createElement(k,o({ref:t},m))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=p;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var u=2;u<l;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},90:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return m},default:function(){return p}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),o=["components"],i={},s="Authentication System",u={unversionedId:"backend/Django/02-04",id:"backend/Django/02-04",isDocsHomePage:!1,title:"Authentication System",description:"- The Django Authentication System",source:"@site/docs/backend/Django/02-04.md",sourceDirName:"backend/Django",slug:"/backend/Django/02-04",permalink:"/TIL/docs/backend/Django/02-04",tags:[],version:"current",frontMatter:{},sidebar:"backend",previous:{title:"Form & ModelForm",permalink:"/TIL/docs/backend/Django/02-03"},next:{title:"Static & Media Files",permalink:"/TIL/docs/backend/Django/02-05"}},m=[{value:"The Django Authentication System",id:"the-django-authentication-system",children:[{value:"Authentication &amp; Authorization",id:"authentication--authorization",children:[],level:3},{value:"\ub450\ubc88\uc9f8 \uc571 (accounts) \uc0dd\uc131\ud558\uae30",id:"\ub450\ubc88\uc9f8-\uc571-accounts-\uc0dd\uc131\ud558\uae30",children:[],level:3}],level:2},{value:"\ucfe0\ud0a4\uc640 \uc138\uc158",id:"\ucfe0\ud0a4\uc640-\uc138\uc158",children:[{value:"HTTP",id:"http",children:[{value:"HTTP \ud2b9\uc9d5",id:"http-\ud2b9\uc9d5",children:[],level:4}],level:3},{value:"\ucfe0\ud0a4(Cookie)",id:"\ucfe0\ud0a4cookie",children:[{value:"\uc694\uccad\uacfc \uc751\ub2f5",id:"\uc694\uccad\uacfc-\uc751\ub2f5",children:[],level:4},{value:"\ucfe0\ud0a4\uc758 \uc0ac\uc6a9 \ubaa9\uc801",id:"\ucfe0\ud0a4\uc758-\uc0ac\uc6a9-\ubaa9\uc801",children:[],level:4},{value:"\ucfe0\ud0a4\ub97c \uc774\uc6a9\ud55c \uc7a5\ubc14\uad6c\ub2c8 \uc608\uc2dc",id:"\ucfe0\ud0a4\ub97c-\uc774\uc6a9\ud55c-\uc7a5\ubc14\uad6c\ub2c8-\uc608\uc2dc",children:[],level:4}],level:3},{value:"\uc138\uc158(Session)",id:"\uc138\uc158session",children:[{value:"\uc138\uc158\uc744 \uc774\uc6a9\ud55c Gitlab \uc608\uc2dc",id:"\uc138\uc158\uc744-\uc774\uc6a9\ud55c-gitlab-\uc608\uc2dc",children:[],level:4}],level:3},{value:"\ucfe0\ud0a4 lifetime (\uc218\uba85)",id:"\ucfe0\ud0a4-lifetime-\uc218\uba85",children:[],level:3},{value:"Session in Django",id:"session-in-django",children:[],level:3},{value:"Authentication System in MIDDLEWARE",id:"authentication-system-in-middleware",children:[],level:3}],level:2},{value:"\ub85c\uadf8\uc778",id:"\ub85c\uadf8\uc778",children:[{value:"Authentication Form",id:"authentication-form",children:[],level:3},{value:"login \ud568\uc218",id:"login-\ud568\uc218",children:[{value:"<code>login(request, user, backend=None)</code>",id:"loginrequest-user-backendnone",children:[],level:4},{value:"<code>get_user()</code>",id:"get_user",children:[],level:4}],level:3},{value:"Authentication data in templates",id:"authentication-data-in-templates",children:[{value:"<code>context processors</code>",id:"context-processors",children:[],level:4},{value:"Users",id:"users",children:[],level:4}],level:3}],level:2},{value:"\ub85c\uadf8\uc544\uc6c3",id:"\ub85c\uadf8\uc544\uc6c3",children:[{value:"logout \ud568\uc218",id:"logout-\ud568\uc218",children:[{value:"<code>logout(request)</code>",id:"logoutrequest",children:[],level:4}],level:3}],level:2},{value:"\ub85c\uadf8\uc778 \uc0ac\uc6a9\uc790\uc5d0 \ub300\ud55c \uc811\uadfc \uc81c\ud55c",id:"\ub85c\uadf8\uc778-\uc0ac\uc6a9\uc790\uc5d0-\ub300\ud55c-\uc811\uadfc-\uc81c\ud55c",children:[{value:"Limiting access to logged-in users",id:"limiting-access-to-logged-in-users",children:[{value:"is_authenticated",id:"is_authenticated",children:[],level:4},{value:"<code>login_required</code> decorator",id:"login_required-decorator",children:[],level:4}],level:3},{value:"<code>next</code> query string parameter",id:"next-query-string-parameter",children:[],level:3},{value:"\ub450 \ub370\ucf54\ub808\uc774\ud130\ub85c \uc778\ud574 \ubc1c\uc0dd\ud558\ub294 \uad6c\uc870\uc801 \ubb38\uc81c\uc640 \ud574\uacb0",id:"\ub450-\ub370\ucf54\ub808\uc774\ud130\ub85c-\uc778\ud574-\ubc1c\uc0dd\ud558\ub294-\uad6c\uc870\uc801-\ubb38\uc81c\uc640-\ud574\uacb0",children:[],level:3}],level:2},{value:"\ud68c\uc6d0\uac00\uc785",id:"\ud68c\uc6d0\uac00\uc785",children:[{value:"UserCreationForm",id:"usercreationform",children:[],level:3}],level:2},{value:"\ud68c\uc6d0\ud0c8\ud1f4",id:"\ud68c\uc6d0\ud0c8\ud1f4",children:[],level:2},{value:"\ud68c\uc6d0\uc815\ubcf4 \uc218\uc815",id:"\ud68c\uc6d0\uc815\ubcf4-\uc218\uc815",children:[{value:"<code>UserChangeForm</code>",id:"userchangeform",children:[],level:3},{value:"<code>UserChangeForm</code> \uc0ac\uc6a9 \uc2dc \ubb38\uc81c\uc810",id:"userchangeform-\uc0ac\uc6a9-\uc2dc-\ubb38\uc81c\uc810",children:[],level:3},{value:"<code>CustomUserChangeForm</code> \uc791\uc131",id:"customuserchangeform-\uc791\uc131",children:[{value:"<code>get_user_model()</code>",id:"get_user_model",children:[],level:4},{value:"User \ud074\ub798\uc2a4 \uc0c1\uc18d \uad6c\uc870 \uc0b4\ud3b4\ubcf4\uae30",id:"user-\ud074\ub798\uc2a4-\uc0c1\uc18d-\uad6c\uc870-\uc0b4\ud3b4\ubcf4\uae30",children:[],level:4}],level:3}],level:2},{value:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd",id:"\ube44\ubc00\ubc88\ud638-\ubcc0\uacbd",children:[{value:"PasswordChangeForm",id:"passwordchangeform",children:[{value:"<code>SetPasswordForm</code>",id:"setpasswordform",children:[],level:4}],level:3},{value:"\uc554\ud638 \ubcc0\uacbd \uc2dc \uc138\uc158 \ubb34\ud6a8\ud654 \ubc29\uc9c0",id:"\uc554\ud638-\ubcc0\uacbd-\uc2dc-\uc138\uc158-\ubb34\ud6a8\ud654-\ubc29\uc9c0",children:[{value:"<code>update_session_auth_hash(request, user)</code>",id:"update_session_auth_hashrequest-user",children:[],level:4}],level:3}],level:2},{value:"\ub9c8\ubb34\ub9ac",id:"\ub9c8\ubb34\ub9ac",children:[],level:2}],c={toc:m};function p(e){var t=e.components,i=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"authentication-system"},"Authentication System"),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Authentication System")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},"The Django Authentication System"),(0,l.kt)("li",{parentName:"ul"},"\ucfe0\ud0a4\uc640 \uc138\uc158"),(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778"),(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc544\uc6c3"),(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778 \uc0ac\uc6a9\uc790\uc5d0 \ub300\ud55c \uc811\uadfc \uc81c\ud55c"),(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\uac00\uc785"),(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\ud0c8\ud1f4"),(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\uc815\ubcf4 \uc218\uc815"),(0,l.kt)("li",{parentName:"ul"},"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd")))),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"the-django-authentication-system"},"The Django Authentication System"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Django \uc778\uc99d \uc2dc\uc2a4\ud15c\uc740 ",(0,l.kt)("inlineCode",{parentName:"li"},"django.contrib.auth"),"\uc5d0 Django contrib module\ub85c \uc81c\uacf5"),(0,l.kt)("li",{parentName:"ul"},"\ud544\uc218 \uad6c\uc131\uc740 settings.py\uc5d0 \uc774\ubbf8 \ud3ec\ud568\ub418\uc5b4 \uc788\uc73c\uba70 ",(0,l.kt)("inlineCode",{parentName:"li"},"INSTALLED_APPS "),"\uc124\uc815\uc5d0 \ub098\uc5f4\ub41c \uc544\ub798 \ub450 \ud56d\ubaa9\uc73c\ub85c \uad6c\uc131\ub428",(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"django.contrib.auth"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc778\uc99d \ud504\ub808\uc784\uc6cc\ud06c\uc758 \ud575\uc2ec\uacfc \uae30\ubcf8 \ubaa8\ub378\uc744 \ud3ec\ud568"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"django.contrib.contenttypes"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \uc0dd\uc131\ud55c \ubaa8\ub378\uacfc \uad8c\ud55c\uc744 \uc5f0\uacb0\ud560 \uc218 \uc788\uc74c")))))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# settings.py\nINSTALLED_APPS [\n   'django.contrib.admin',\n   'django.contrib.auth',\n   'django.contrib.contenttypes',\n   'django.contrib.sessions',\n   'django.contrib.messages',\n   'django.contrib.staticfiles',\n]\n")),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Django \uc778\uc99d \uc2dc\uc2a4\ud15c\uc740 ",(0,l.kt)("strong",{parentName:"li"},"\uc778\uc99d(Authentication)"),"\uacfc ",(0,l.kt)("strong",{parentName:"li"},"\uad8c\ud55c(Authorization)")," \ubd80\uc5ec\ub97c \ud568\uaed8 \uc81c\uacf5(\ucc98\ub9ac)\ud558\uba70, \uc774\ub7ec\ud55c \uae30\ub2a5\uc774 \uc5b4\ub290 \uc815\ub3c4 \uacb0\ud569\ub418\uc5b4 \uc77c\ubc18\uc801\uc73c\ub85c \uc778\uc99d \uc2dc\uc2a4\ud15c\uc774\ub77c\uace0 \ud568"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#using-the-django-authentication-system"},"\uacf5\uc2dd\ubb38\uc11c")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/#user-authentication-in-django"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"authentication--authorization"},"Authentication & Authorization"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Authentication")," (\uc778\uc99d)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc2e0\uc6d0 \ud655\uc778"),(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \uc790\uc2e0\uc774 \ub204\uad6c\uc778\uc9c0 \ud655\uc778\ud558\ub294 \uac83"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Authorization")," (\uad8c\ud55c, \ud5c8\uac00)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uad8c\ud55c \ubd80\uc5ec"),(0,l.kt)("li",{parentName:"ul"},"\uc778\uc99d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc218\ud589\ud560 \uc218 \uc788\ub294 \uc791\uc5c5\uc744 \uacb0\uc815")))),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"\ub450\ubc88\uc9f8-\uc571-accounts-\uc0dd\uc131\ud558\uae30"},"\ub450\ubc88\uc9f8 \uc571 (accounts) \uc0dd\uc131\ud558\uae30"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ python manage.py startapp accounts\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"app \uc774\ub984\uc774 \ubc18\ub4dc\uc2dc accounts \uc77c \ud544\uc694\ub294 \uc5c6\uc74c"),(0,l.kt)("li",{parentName:"ul"},"\ub2e8, auth\uc640 \uad00\ub828\ud574 django \ub0b4\ubd80\uc801\uc73c\ub85c accounts\ub77c\ub294 \uc774\ub984\uc73c\ub85c \uc0ac\uc6a9\ub418\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 \ub418\ub3c4\ub85d accounts\ub85c \uc9c0\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5")),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# settings.py\n\nINSTALLED_APPS = [\n    'articles',\n    'accounts',\n    ...\n]\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# crud/urls.py\n\nurlpatterns = [\n    ...,\n    path('accounts/', include('accounts.urls')),\n]\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/urls.py\n\nfrom django.urls import path\nfrom . import views\n\napp_name = 'accounts'\nurlpatterns = [\n\n]\n")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ucfe0\ud0a4\uc640-\uc138\uc158"},"\ucfe0\ud0a4\uc640 \uc138\uc158"),(0,l.kt)("h3",{id:"http"},"HTTP"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Hyper Text Transfer Protocol"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"HTML \ubb38\uc11c\uc640 \uac19\uc740 \ub9ac\uc18c\uc2a4(\uc790\uc6d0, \ub370\uc774\ud130)\ub4e4\uc744 \uac00\uc838\uc62c \uc218 \uc788\ub3c4\ub85d \ud574\uc8fc\ub294 \ud504\ub85c\ud1a0\ucf5c(\uaddc\uce59, \uaddc\uc57d)"),(0,l.kt)("li",{parentName:"ul"},"\uc6f9\uc5d0\uc11c \uc774\ub8e8\uc5b4\uc9c0\ub294 \ubaa8\ub4e0 \ub370\uc774\ud130 \uad50\ud658\uc758 \uae30\ucd08"),(0,l.kt)("li",{parentName:"ul"},"\ud074\ub77c\uc774\uc5b8\ud2b8-\uc11c\ubc84 \ud504\ub85c\ud1a0\ucf5c\uc774\uae30\ub3c4 \ud568"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview#http_is_stateless_but_not_sessionless"},"\ucc38\uace0"))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"http-\ud2b9\uc9d5"},"HTTP \ud2b9\uc9d5"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\ube44\uc5f0\uacb0\uc9c0\ud5a5")," (connectionless)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc11c\ubc84\ub294 \uc694\uccad\uc5d0 \ub300\ud55c \uc751\ub2f5\uc744 \ubcf4\ub0b8 \ud6c4 \uc5f0\uacb0\uc744 \ub04a\uc74c"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\ubb34\uc0c1\ud0dc")," (stateless)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc5f0\uacb0\uc744 \ub04a\ub294 \uc21c\uac04 \ud074\ub77c\uc774\uc5b8\ud2b8\uc640 \uc11c\ubc84 \uac04\uc758 \ud1b5\uc2e0\uc774 \ub05d\ub098\uba70 \uc0c1\ud0dc \uc815\ubcf4\uac00 \uc720\uc9c0\ub418\uc9c0 \uc54a\uc74c"),(0,l.kt)("li",{parentName:"ul"},"\ud074\ub77c\uc774\uc5b8\ud2b8\uc640 \uc11c\ubc84\uac00 \uc8fc\uace0 \ubc1b\ub294 \uba54\uc2dc\uc9c0\ub4e4\uc740 \uc11c\ub85c \uc644\uc804\ud788 \ub3c5\ub9bd\uc801\uc784"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\ud074\ub77c\uc774\uc5b8\ud2b8\uc640 \uc11c\ubc84\uc758 \uc9c0\uc18d\uc801\uc778 \uad00\uacc4\ub97c \uc720\uc9c0\ud558\uae30 \uc704\ud574 \ucfe0\ud0a4\uc640 \uc138\uc158\uc774 \uc874\uc7ac"))),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"\ucfe0\ud0a4cookie"},"\ucfe0\ud0a4(Cookie)"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc11c\ubc84\uac00 \uc0ac\uc6a9\uc790\uc758 \uc6f9 \ube0c\ub77c\uc6b0\uc800\uc5d0 \uc804\uc1a1\ud558\ub294 \uc791\uc740 \ub370\uc774\ud130 \uc870\uac01"),(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \uc6f9\uc0ac\uc774\ud2b8\ub97c \ubc29\ubb38\ud560 \uacbd\uc6b0 \ud574\ub2f9 \uc6f9\uc0ac\uc774\ud2b8\uc758 \uc11c\ubc84\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uc790\uc758 \ucef4\ud4e8\ud130\uc5d0 \uc124\uce58\ub418\ub294 \uc791\uc740 \uae30\ub85d \uc815\ubcf4 \ud30c\uc77c",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ube0c\ub77c\uc6b0\uc800(\ud074\ub77c\uc774\uc5b8\ud2b8)\ub294 \ucfe0\ud0a4\ub97c \ub85c\uceec\uc5d0 KEY-VALUE\uc758 \ub370\uc774\ud130 \ud615\uc2dd\uc73c\ub85c \uc800\uc7a5"),(0,l.kt)("li",{parentName:"ul"},"\uc774\ub807\uac8c \ucfe0\ud0a4\ub97c \uc800\uc7a5\ud574 \ub193\uc558\ub2e4\uac00, \ub3d9\uc77c\ud55c \uc11c\ubc84\uc5d0 \uc7ac\uc694\uccad \uc2dc \uc800\uc7a5\ub41c \ucfe0\ud0a4\ub97c \ud568\uaed8 \uc804\uc1a1")))),(0,l.kt)("br",null),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\ucc38\uace0")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\uc18c\ud504\ud2b8\uc6e8\uc5b4\uac00 \uc544\ub2c8\uae30 \ub54c\ubb38\uc5d0 \ud504\ub85c\uadf8\ub7a8\ucc98\ub7fc \uc2e4\ud589 \ub420 \uc218 \uc5c6\uc73c\uba70 \uc545\uc131\ucf54\ub4dc\ub97c \uc124\uce58 \ud560 \uc218 \uc5c6\uc9c0\ub9cc, \uc0ac\uc6a9\uc790\uc758 \ud589\ub3d9\uc744 \ucd94\uc801\ud558\uac70\ub098 \ucfe0\ud0a4\ub97c \ud6d4\uccd0\uc11c \ud574\ub2f9 \uc0ac\uc6a9\uc790\uc758 \uacc4\uc815 \uc811\uadfc\uad8c\ud55c\uc744 \ud68d\ub4dd \ud560 \uc218\ub3c4 \uc788\uc74c"),(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/HTTP_cookie"},"https://en.wikipedia.org/wiki/HTTP_cookie")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies"},"https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies"))))),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"HTTP \ucfe0\ud0a4\ub294 \uc0c1\ud0dc\uac00 \uc788\ub294 \uc138\uc158\uc744 \ub9cc\ub4e4\uc5b4 \uc90c"),(0,l.kt)("li",{parentName:"ul"},"\ucfe0\ud0a4\ub294 \ub450 \uc694\uccad\uc774 \ub3d9\uc77c\ud55c \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \ub4e4\uc5b4\uc654\ub294\uc9c0 \uc544\ub2cc\uc9c0\ub97c \ud310\ub2e8\ud560 \ub54c \uc8fc\ub85c \uc0ac\uc6a9",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc774\ub97c \uc774\uc6a9\ud574 \uc0ac\uc6a9\uc790\uc758 \ub85c\uadf8\uc778 \uc0c1\ud0dc\ub97c \uc720\uc9c0\ud560 \uc218 \uc788\uc74c"),(0,l.kt)("li",{parentName:"ul"},"\uc0c1\ud0dc\uac00 \uc5c6\ub294(stateless) HTTP \ud504\ub85c\ud1a0\ucf5c\uc5d0\uc11c \uc0c1\ud0dc \uc815\ubcf4\ub97c \uae30\uc5b5 \uc2dc\ucf1c\uc8fc\uae30 \ub54c\ubb38"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\uc6f9 \ud398\uc774\uc9c0\uc5d0 \uc811\uc18d\ud558\uba74 \uc694\uccad\ud55c \uc6f9 \ud398\uc774\uc9c0\ub97c \ubc1b\uc73c\uba70 \ucfe0\ud0a4\ub97c \uc800\uc7a5\ud558\uace0, \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uac19\uc740 \uc11c\ubc84\uc5d0 \uc7ac\uc694\uccad \uc2dc \uc694\uccad\uacfc \ud568\uaed8 \ucfe0\ud0a4\ub3c4 \ud568\uaed8 \uc804\uc1a1"))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\uc694\uccad\uacfc-\uc751\ub2f5"},"\uc694\uccad\uacfc \uc751\ub2f5"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915092316431",src:n(9582).Z})),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\ucfe0\ud0a4\uc758-\uc0ac\uc6a9-\ubaa9\uc801"},"\ucfe0\ud0a4\uc758 \uc0ac\uc6a9 \ubaa9\uc801"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\uc138\uc158 \uad00\ub9ac")," (Session management)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778, \uc544\uc774\ub514 \uc790\ub3d9 \uc644\uc131, \uacf5\uc9c0 \ud558\ub8e8 \uc548\ubcf4\uae30, \ud31d\uc5c5 \uccb4\ud06c, \uc7a5\ubc14\uad6c\ub2c8 \ub4f1\uc758 \uc815\ubcf4 \uad00\ub9ac"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\uac1c\uc778\ud654")," (Personalization)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790 \uc120\ud638, \ud14c\ub9c8 \ub4f1\uc758 \uc124\uc815"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"\ud2b8\ub798\ud0b9")," (Tracking)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790 \ud589\ub3d9\uc744 \uae30\ub85d \ubc0f \ubd84\uc11d")))),(0,l.kt)("h4",{id:"\ucfe0\ud0a4\ub97c-\uc774\uc6a9\ud55c-\uc7a5\ubc14\uad6c\ub2c8-\uc608\uc2dc"},"\ucfe0\ud0a4\ub97c \uc774\uc6a9\ud55c \uc7a5\ubc14\uad6c\ub2c8 \uc608\uc2dc"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \uc0c1\ud488 \ub2f4\uae30")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915094010284",src:n(6510).Z})),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uac1c\ubc1c\uc790 \ub3c4\uad6c - Network \ud0ed - cartView.pang \ud655\uc778"),(0,l.kt)("li",{parentName:"ul"},"\uc11c\ubc84\ub294 \uc751\ub2f5\uacfc \ud568\uaed8 Set-Cookie \uc751\ub2f5 \ud5e4\ub354\ub97c \ube0c\ub77c\uc6b0\uc800\uc5d0\uac8c \uc804\uc1a1 \uc774 \ud5e4\ub354\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uac8c \ucfe0\ud0a4\ub97c \uc800\uc7a5\ud558\ub77c\uace0 \uc804\ub2ec")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915094249558",src:n(2907).Z})),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Cookie \ub370\uc774\ud130 \uc790\uc138\ud788 \ud655\uc778")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915094338550",src:n(3749).Z})),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uba54\uc778 \ud398\uc774\uc9c0 \uc774\ub3d9 - \uc7a5\ubc14\uad6c\ub2c8 \uc720\uc9c0 \uc0c1\ud0dc \ud655\uc778 \uc774\uc81c \uc11c\ubc84\ub85c \uc804\uc1a1\ub418\ub294 \ubaa8\ub4e0 \uc694\uccad\uacfc \ud568\uaed8, \ube0c\ub77c\uc6b0\uc800\ub294 ",(0,l.kt)("strong",{parentName:"li"},"Cookie")," HTTP \ud5e4\ub354\ub97c \uc0ac\uc6a9\ud574 \uc11c\ubc84\ub85c \uc774\uc804\uc5d0 \uc800\uc7a5\ud588\ub358 \ubaa8\ub4e0 \ucfe0\ud0a4\ub4e4\uc744 \ud568\uaed8 \uc804\uc1a1"),(0,l.kt)("li",{parentName:"ul"},"\uac1c\ubc1c\uc790 \ub3c4\uad6c - Application \ud0ed - Cookies \ub9c8\uc6b0\uc2a4 \uc6b0\uce21 \ubc84\ud2bc - Clear \ud6c4 \uc0c8\ub85c\uace0\uce68")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915094451175",src:n(6597).Z})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ube48 \uc7a5\ubc14\uad6c\ub2c8\ub85c \ubcc0\uacbd \ud655\uc778")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"\uc138\uc158session"},"\uc138\uc158(Session)"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'\uc0ac\uc774\ud2b8\uc640 \ud2b9\uc815 \ube0c\ub77c\uc6b0\uc800 \uc0ac\uc774\uc758 "\uc0c1\ud0dc(state)"\ub97c \uc720\uc9c0\uc2dc\ud0a4\ub294 \uac83'),(0,l.kt)("li",{parentName:"ul"},"\ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc11c\ubc84\uc5d0 \uc811\uc18d\ud558\uba74 \uc11c\ubc84\uac00 \ud2b9\uc815 session id\ub97c \ubc1c\uae09\ud558\uace0, \ud074\ub77c\uc774\uc5b8\ud2b8\ub294 \ubc1c\uae09 \ubc1b\uc740 ",(0,l.kt)("strong",{parentName:"li"},"session id"),"\ub97c \ucfe0\ud0a4\uc5d0 \uc800\uc7a5",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \ub2e4\uc2dc \uc11c\ubc84\uc5d0 \uc811\uc18d\ud558\uba74 \uc694\uccad\uacfc \ud568\uaed8 \ucfe0\ud0a4(session id\uac00 \uc800\uc7a5\ub41c)\ub97c \uc11c\ubc84\uc5d0 \uc804\ub2ec"),(0,l.kt)("li",{parentName:"ul"},"\ucfe0\ud0a4\ub294 \uc694\uccad \ub54c\ub9c8\ub2e4 \uc11c\ubc84\uc5d0 \ud568\uaed8 \uc804\uc1a1\ub418\ubbc0\ub85c \uc11c\ubc84\uc5d0\uc11c session id\ub97c \ud655\uc778\ud574 \uc54c\ub9de\uc740 \ub85c\uc9c1\uc744 \ucc98\ub9ac"))),(0,l.kt)("li",{parentName:"ul"},"ID\ub294 \uc138\uc158\uc744 \uad6c\ubcc4\ud558\uae30 \uc704\ud574 \ud544\uc694\ud558\uba70, \ucfe0\ud0a4\uc5d0\ub294 ID\ub9cc \uc800\uc7a5\ud568")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\uc138\uc158\uc744-\uc774\uc6a9\ud55c-gitlab-\uc608\uc2dc"},"\uc138\uc158\uc744 \uc774\uc6a9\ud55c Gitlab \uc608\uc2dc"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Gitlab \ub85c\uadf8\uc778 - \uac1c\ubc1c\uc790 \ub3c4\uad6c - Application \ud0ed : gitlab \uc11c\ubc84\ub85c\ubd80\ud130 \ubc1b\uc544 \uc800\uc7a5\ub41c session \ucfe0\ud0a4 \ud655\uc778"),(0,l.kt)("li",{parentName:"ul"},"session \uc0ad\uc81c \ud6c4 \uc0c8\ub85c\uace0\uce68 - \ub85c\uadf8\uc544\uc6c3 \uc0c1\ud0dc \ubcc0\uacbd \ud655\uc778")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"\ucfe0\ud0a4-lifetime-\uc218\uba85"},"\ucfe0\ud0a4 lifetime (\uc218\uba85)"),(0,l.kt)("p",null,"\ucfe0\ud0a4\uc758 \uc218\uba85\uc740 \ub450 \uac00\uc9c0 \ubc29\ubc95\uc73c\ub85c \uc815\uc758\ud560 \uc218 \uc788\uc74c"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"Session cookies"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ud604\uc7ac \uc138\uc158\uc774 \uc885\ub8cc\ub418\uba74 \uc0ad\uc81c\ub428"),(0,l.kt)("li",{parentName:"ul"},"\ube0c\ub77c\uc6b0\uc800\uac00 \u201c\ud604\uc7ac \uc138\uc158(current session)\u201d\uc774 \uc885\ub8cc\ub418\ub294 \uc2dc\uae30\ub97c \uc815\uc758")))),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\ucc38\uace0")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\uc77c\ubd80 \ube0c\ub77c\uc6b0\uc800\ub294 \ub2e4\uc2dc \uc2dc\uc791\ud560 \ub54c \uc138\uc158 \ubcf5\uc6d0(session restoring)\uc744 \uc0ac\uc6a9\ud574 \uc138\uc158 \ucfe0\ud0a4\uac00 \uc624\ub798 \uc9c0\uc18d \ub420 \uc218 \uc788\ub3c4\ub85d \ud568"))),(0,l.kt)("br",null),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"Persistent cookies")," (or Permanent cookies)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Expires \uc18d\uc131\uc5d0 \uc9c0\uc815\ub41c \ub0a0\uc9dc \ud639\uc740 Max-Age \uc18d\uc131\uc5d0 \uc9c0\uc815\ub41c \uae30\uac04\uc774 \uc9c0\ub098\uba74 \uc0ad\uc81c")))),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"session-in-django"},"Session in Django"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Django\uc758 \uc138\uc158\uc740 \ubbf8\ub4e4\uc6e8\uc5b4\ub97c \ud1b5\ud574 \uad6c\ud604\ub428"),(0,l.kt)("li",{parentName:"ul"},"Django\ub294 database-backed sessions \uc800\uc7a5 \ubc29\uc2dd\uc744 \uae30\ubcf8 \uac12\uc73c\ub85c \uc0ac\uc6a9")),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\ucc38\uace0")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\uc124\uc815\uc744 \ud1b5\ud574 cached, file-based, cookie-based \ubc29\uc2dd\uc73c\ub85c \ubcc0\uacbd \uac00\ub2a5"))),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Django\ub294 \ud2b9\uc815 session id\ub97c \ud3ec\ud568\ud558\ub294 \ucfe0\ud0a4\ub97c \uc0ac\uc6a9\ud574\uc11c \uac01\uac01\uc758 \ube0c\ub77c\uc6b0\uc800\uc640 \uc0ac\uc774\ud2b8\uac00 \uc5f0\uacb0\ub41c \uc138\uc158\uc744 \uc54c\uc544\ub0c4",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc138\uc158 \uc815\ubcf4\ub294 Django DB\uc758 ",(0,l.kt)("inlineCode",{parentName:"li"},"django_session")," \ud14c\uc774\ube14\uc5d0 \uc800\uc7a5\ub428"))),(0,l.kt)("li",{parentName:"ul"},"\ubaa8\ub4e0 \uac83\uc744 \uc138\uc158\uc73c\ub85c \uc0ac\uc6a9\ud558\ub824\uace0 \ud558\uba74 \uc0ac\uc6a9\uc790\uac00 \ub9ce\uc744 \ub54c \uc11c\ubc84\uc5d0 \ubd80\ud558\uac00 \uac78\ub9b4 \uc218 \uc788\uc74c"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/http/sessions/#module-django.contrib.sessions"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"authentication-system-in-middleware"},"Authentication System in MIDDLEWARE"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SessionMiddleware")," : \uc694\uccad \uc804\ubc18\uc5d0 \uac78\uccd0 \uc138\uc158\uc744 \uad00\ub9ac"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Authentication Middleware")," : \uc138\uc158\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc0ac\uc6a9\uc790\ub97c \uc694\uccad\uacfc \uc5f0\uacb0")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# settings.py\n\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    ...\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    ...\n]\n")),(0,l.kt)("br",null),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\ucc38\uace0: MIDDLEWARE (\ubbf8\ub4e4\uc6e8\uc5b4)")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},"http \uc694\uccad\uacfc \uc751\ub2f5 \ucc98\ub9ac \uc911\uac04\uc5d0\uc11c \uc791\ub3d9\ud558\ub294 \uc2dc\uc2a4\ud15c(hooks)"),(0,l.kt)("li",{parentName:"ul"},"django\ub294 http \uc694\uccad\uc774 \ub4e4\uc5b4\uc624\uba74 \ubbf8\ub4e4\uc6e8\uc5b4\ub97c \uac70\uccd0 \ud574\ub2f9 URL\uc5d0 \ub4f1\ub85d\ub418\uc5b4 \uc788\ub294 view\ub85c \uc5f0\uacb0\ud574\uc8fc\uace0, http \uc751\ub2f5 \uc5ed\uc2dc \ubbf8\ub4e4\uc6e8\uc5b4\ub97c \uac70\uccd0\uc11c \ub0b4\ubcf4\ub0c4"),(0,l.kt)("li",{parentName:"ul"},"\uc8fc\ub85c \ub370\uc774\ud130 \uad00\ub9ac, \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc11c\ube44\uc2a4, \uba54\uc2dc\uc9d5, \uc778\uc99d \ubc0f API \uad00\ub9ac\ub97c \ub2f4\ub2f9"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/#installation"},"\uacf5\uc2dd\ubb38\uc11c"))))),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ub85c\uadf8\uc778"},"\ub85c\uadf8\uc778"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778\uc740 Session\uc744 Create\ud558\ub294 \ub85c\uc9c1\uacfc \uac19\uc74c"),(0,l.kt)("li",{parentName:"ul"},"Django\ub294 \uc6b0\ub9ac\uac00 session\uc758 \uba54\ucee4\ub2c8\uc998\uc5d0 \uc0dd\uac01\ud558\uc9c0 \uc54a\uac8c\ub054 \ub3c4\uc6c0\uc744 \uc90c"),(0,l.kt)("li",{parentName:"ul"},"\uc774\ub97c \uc704\ud574 \uc778\uc99d\uc5d0 \uad00\ud55c built-in forms\ub97c \uc81c\uacf5")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"authentication-form"},"Authentication Form"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790 \ub85c\uadf8\uc778\uc744 \uc704\ud55c form"),(0,l.kt)("li",{parentName:"ul"},"request\ub97c \uccab\ubc88\uc9f8 \uc778\uc790\ub85c \ucde8\ud568"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#django.contrib.auth.forms.AuthenticationForm"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"login-\ud568\uc218"},"login \ud568\uc218"),(0,l.kt)("h4",{id:"loginrequest-user-backendnone"},(0,l.kt)("inlineCode",{parentName:"h4"},"login(request, user, backend=None)")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud604\uc7ac \uc138\uc158\uc5d0 \uc5f0\uacb0\ud558\ub824\ub294 \uc778\uc99d \ub41c \uc0ac\uc6a9\uc790\uac00 \uc788\ub294 \uacbd\uc6b0 login() \ud568\uc218\uac00 \ud544\uc694"),(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\ub97c \ub85c\uadf8\uc778\ud558\uba70 view \ud568\uc218\uc5d0\uc11c \uc0ac\uc6a9 \ub428"),(0,l.kt)("li",{parentName:"ul"},"HttpRequest \uac1d\uccb4\uc640 User \uac1d\uccb4\uac00 \ud544\uc694"),(0,l.kt)("li",{parentName:"ul"},"django\uc758 session framework\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc138\uc158\uc5d0 user\uc758 ID\ub97c \uc800\uc7a5(== \ub85c\uadf8\uc778)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#how-to-log-a-user-in"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/urls.py\n\nfrom django.urls import path\nfrom . import views\n\napp_name = 'accounts'\nurlpatterns = [\n    path('login/', views.login, name='login'),\n]\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/views.py\n\nfrom django.shortcuts import render, redirect\nfrom django.contrib.auth.forms import AuthenticationForm\nfrom django.contrib.auth import login as auth_login\nfrom django.views.decorators.http import require_http_methods\n\n\n@require_http_methods(['GET', 'POST'])\ndef login(request):\n    if request.method == 'POST':\n        form = AuthenticationForm(request, request.POST)\n        if form.is_valid():\n            auth_login(request, form.get_user())\n            return redirect('articles:index')\n    else:\n        form = AuthenticationForm()\n    context = {\n        'form': form\n    }\n    return render(request, 'accounts/login.html', context)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- accounts/login.html --\x3e\n\n{% extends \'base.html\' %}\n\n{% block content %}\n  <h1>Login</h1>\n  <form action="{% url \'accounts:login\' %}" method="POST">\n    {% csrf_token %}\n    {{ form.as_p }}\n    <input type="submit">\n  </form>\n{% endblock content %}\n')),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"admin \uacc4\uc815 \ub9cc\ub4e4\uace0 accounts\uc5d0 \ub85c\uadf8\uc778"),(0,l.kt)("li",{parentName:"ul"},"\ube0c\ub77c\uc6b0\uc800\uc640 django DB\uc5d0\uc11c django\ub85c\ubd80\ud130 \ubc1c\uae09 \ubc1b\uc740 ",(0,l.kt)("inlineCode",{parentName:"li"},"sessionid")," \ud655\uc778")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915103658067",src:n(5548).Z})),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915103756069",src:n(3636).Z})),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"get_user"},(0,l.kt)("inlineCode",{parentName:"h4"},"get_user()")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"AuthenticationForm\uc758 \uc778\uc2a4\ud134\uc2a4 \uba54\uc11c\ub4dc"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"user_cache"),"\ub294 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \uc2dc\uc5d0 None\uc73c\ub85c \ud560\ub2f9\ub418\uba70, \uc720\ud6a8\uc131 \uac80\uc0ac\ub97c \ud1b5\uacfc\ud588\uc744 \uacbd\uc6b0 \ub85c\uadf8\uc778 \ud55c \uc0ac\uc6a9\uc790 \uac1d\uccb4\ub85c \ud560\ub2f9 \ub428"),(0,l.kt)("li",{parentName:"ul"},"\uc778\uc2a4\ud134\uc2a4\uc758 \uc720\ud6a8\uc131\uc744 \uba3c\uc800 \ud655\uc778\ud558\uace0, \uc778\uc2a4\ud134\uc2a4\uac00 \uc720\ud6a8\ud560 \ub54c\ub9cc user\ub97c \uc81c\uacf5\ud558\ub824\ub294 \uad6c\uc870")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'class Authentication Form(forms. Form):\n    """\n    Base class for authenticating users. Extend this to get a form that accepts\n    username/password logins.\n    """\n    \n    def get_user(self):\n        return self.user_cache\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://github.com/django/django/blob/main/django/contrib/auth/forms.py#L163"},"Github")),(0,l.kt)("br",null))),(0,l.kt)("h3",{id:"authentication-data-in-templates"},"Authentication data in templates"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778 \ub9c1\ud06c \uc791\uc131"),(0,l.kt)("li",{parentName:"ul"},"\ud604\uc7ac \ub85c\uadf8\uc778 \ub418\uc5b4 \uc788\ub294 \uc720\uc800 \uc815\ubcf4 \ucd9c\ub825")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'  <div class="container">\n    <h3>Hello, {{ user }}</h3>\n    <a href="{% url \'accounts:login\' %}">Login</a>\n    {% block content %}\n    {% endblock content %}\n  </div>\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"admin \ub85c\uadf8\uc778 \uc804")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915104320187",src:n(6110).Z})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"admin \ub85c\uadf8\uc778 \ud6c4")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915104300181",src:n(5300).Z})),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"context-processors"},(0,l.kt)("inlineCode",{parentName:"h4"},"context processors")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud15c\ud50c\ub9bf\uc774 \ub80c\ub354\ub9c1 \ub420 \ub54c \uc790\ub3d9\uc73c\ub85c \ud638\ucd9c \uac00\ub2a5\ud55c \ucee8\ud14d\uc2a4\ud2b8 \ub370\uc774\ud130 \ubaa9\ub85d"),(0,l.kt)("li",{parentName:"ul"},"\uc791\uc131\ub41c \ud504\ub85c\uc138\uc11c\ub294 RequestContext\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ubcc0\uc218\ub85c \ud3ec\ud568\ub428")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# settings.py\n\nTEMPLATES = [\n    {\n        ...\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"users"},"Users"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud15c\ud50c\ub9bf ",(0,l.kt)("inlineCode",{parentName:"li"},"RequestContext"),"\ub97c \ub80c\ub354\ub9c1\ud560 \ub54c, \ud604\uc7ac \ub85c\uadf8\uc778\ud55c \uc0ac\uc6a9\uc790\ub97c \ub098\ud0c0\ub0b4\ub294 ",(0,l.kt)("inlineCode",{parentName:"li"},"auth.User")," \uc778\uc2a4\ud134\uc2a4 (\ub610\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \ub85c\uadf8\uc778\ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0 ",(0,l.kt)("inlineCode",{parentName:"li"},"AnonymousUser")," \uc778\uc2a4\ud134\uc2a4)\ub294 \ud15c\ud50c\ub9bf \ubcc0\uc218 ",(0,l.kt)("inlineCode",{parentName:"li"},"{{ user }}"),"\uc5d0 \uc800\uc7a5\ub428"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"'django.contrib.auth.context_processors.auth'"))),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ub85c\uadf8\uc544\uc6c3"},"\ub85c\uadf8\uc544\uc6c3"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\ub85c\uadf8\uc544\uc6c3\uc740 Session\uc744 Delete \ud558\ub294 \ub85c\uc9c1\uacfc \uac19\uc74c"),(0,l.kt)("br",null))),(0,l.kt)("h3",{id:"logout-\ud568\uc218"},"logout \ud568\uc218"),(0,l.kt)("h4",{id:"logoutrequest"},(0,l.kt)("inlineCode",{parentName:"h4"},"logout(request)")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"HttpRequest \uac1d\uccb4\ub97c \uc778\uc790\ub85c \ubc1b\uace0 \ubc18\ud658 \uac12\uc774 \uc5c6\uc74c"),(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \ub85c\uadf8\uc778\ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0 \uc624\ub958\ub97c \ubc1c\uc0dd\uc2dc\ud0a4\uc9c0 \uc54a\uc74c"),(0,l.kt)("li",{parentName:"ul"},"\ud604\uc7ac \uc694\uccad\uc5d0 \ub300\ud55c session data\ub97c DB\uc5d0\uc11c \uc644\uc804\ud788 \uc0ad\uc81c\ud558\uace0, \ud074\ub77c\uc774\uc5b8\ud2b8\uc758 \ucfe0\ud0a4\uc5d0\uc11c\ub3c4 sessionid \uac00 \uc0ad\uc81c\ub428"),(0,l.kt)("li",{parentName:"ul"},"\uc774\ub294 \ub2e4\ub978 \uc0ac\ub78c\uc774 \ub3d9\uc77c\ud55c \uc6f9 \ube0c\ub77c\uc6b0\uc800\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub85c\uadf8\uc778\ud558\uace0, ",(0,l.kt)("strong",{parentName:"li"},"\uc774\uc804 \uc0ac\uc6a9\uc790\uc758 \uc138\uc158 \ub370\uc774\ud130\uc5d0 \uc561\uc138\uc2a4\ud558\ub294 \uac83\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud568")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#how-to-log-a-user-out"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/urls.py\n\nfrom django.urls import path\nfrom . import views\n\napp_name = 'accounts'\nurlpatterns = [\n    path('login/', views.login, name='login'),\n    path('logout/', vies.logout, name='logout'),\n]\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/urls.py\n\nfrom django.contrib.auth import logout as auth_logout\nfrom django.views.decorators.http import require_http_methods, require_POST\n\n@require_POST\ndef logout(request):\n    auth_logout(request)\n    return redirect('articles:index')\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- base.html --\x3e\n\n    <form action="{% url \'accounts:logout\' %}" method="POST">\n      {% csrf_token %}\n      <input type="submit" value="Logout">\n    </form>\n')),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ub85c\uadf8\uc778-\uc0ac\uc6a9\uc790\uc5d0-\ub300\ud55c-\uc811\uadfc-\uc81c\ud55c"},"\ub85c\uadf8\uc778 \uc0ac\uc6a9\uc790\uc5d0 \ub300\ud55c \uc811\uadfc \uc81c\ud55c"),(0,l.kt)("h3",{id:"limiting-access-to-logged-in-users"},"Limiting access to logged-in users"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778 \uc0ac\uc6a9\uc790\uc5d0 \ub300\ud55c \uc5d1\uc138\uc2a4 \uc81c\ud55c 2\uac00\uc9c0 \ubc29\ubc95",(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},"The raw way",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"is_authenticated")," attribute"))),(0,l.kt)("li",{parentName:"ol"},"The ",(0,l.kt)("inlineCode",{parentName:"li"},"login_required")," decorator"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#limiting-access-to-logged-in-users"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"is_authenticated"},"is_authenticated"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"User model\uc758 \uc18d\uc131(attributes) \uc911 \ud558\ub098"),(0,l.kt)("li",{parentName:"ul"},"\ubaa8\ub4e0 User \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub300\ud574 \ud56d\uc0c1 True \uc778 \uc77d\uae30 \uc804\uc6a9 \uc18d\uc131 (",(0,l.kt)("inlineCode",{parentName:"li"},"AnonymousUser"),"\uc5d0 \ub300\ud574\uc11c\ub294 \ud56d\uc0c1 False)"),(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \uc778\uc99d \ub418\uc5c8\ub294\uc9c0 \uc5ec\ubd80\ub97c \uc54c \uc218 \uc788\ub294 \ubc29\ubc95"),(0,l.kt)("li",{parentName:"ul"},"\uc77c\ubc18\uc801\uc73c\ub85c request.user\uc5d0\uc11c \uc774 \uc18d\uc131\uc744 \uc0ac\uc6a9\ud558\uc5ec, \ubbf8\ub4e4\uc6e8\uc5b4\uc758 ",(0,l.kt)("inlineCode",{parentName:"li"},"django.contrib.auth.middleware.AuthenticationMiddleware"),"\ub97c \ud1b5\uacfc \ud588\ub294\uc9c0 \ud655\uc778"),(0,l.kt)("li",{parentName:"ul"},"\ub2e8, \uad8c\ud55c(permission)\uacfc\ub294 \uad00\ub828\uc774 \uc5c6\uc73c\uba70, \uc0ac\uc6a9\uc790\uac00 \ud65c\uc131\ud654 \uc0c1\ud0dc(active)\uc774\uac70\ub098 \uc720\ud6a8\ud55c \uc138\uc158(valid session)\uc744 \uac00\uc9c0\uace0 \uc788\ub294\uc9c0\ub3c4 \ud655\uc778\ud558\uc9c0 \uc54a\uc74c"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/ref/contrib/auth/#django.contrib.auth.models.User.is_authenticated"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\uc801\uc6a9")," : \ub85c\uadf8\uc778\uacfc \ube44\ub85c\uadf8\uc778 \uc0c1\ud0dc\uc5d0\uc11c \ucd9c\ub825\ub418\ub294 \ub9c1\ud06c\ub97c \ub2e4\ub974\uac8c \uc124\uc815")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# views.py\n\n@require_http_methods(['GET', 'POST'])\ndef login(request):\n    if request.user.is_authenticated:\n        return redirect('articles:index')\n    \n    if request.method == 'POST':\n        form = AuthenticationForm(request, request.POST)\n        if form.is_valid():\n            auth_login(request, form.get_user())\n            return redirect('articles:index')\n    else:\n        form = AuthenticationForm()\n    context = {\n        'form': form\n    }\n    return render(request, 'accounts/login.html', context)\n\n\n@require_POST\ndef logout(request):\n    if request.user.is_authenticated:        \n        auth_logout(request)\n    return redirect('articles:index')\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- base.html --\x3e\n\n  <div class="container">\n    {% if request.user.is_authenticated %}\n      <h3>Hello, {{ user }}</h3>\n      <form action="{% url \'accounts:logout\' %}" method="POST">\n        {% csrf_token %}\n        <input type="submit" value="Logout">\n      </form>\n    {% else %}\n      <a href="{% url \'accounts:login\' %}">Login</a>\n    {% endif %}\n    {% block content %}\n    {% endblock content %}\n  </div>\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},"\x3c!-- index.html --\x3e\n  {% if request.user.is_authenticated %}\n    <a href=\"{% url 'articles:create' %}\">[CREATE]</a>\n  {% else %}\n    <a href=\"{% url 'accounts:login' %}\">[\uc0c8 \uae00\uc744 \uc791\uc131\ud558\ub824\uba74 \ub85c\uadf8\uc778\ud558\uc138\uc694.]</a>\n  {% endif %}\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"login_required-decorator"},(0,l.kt)("inlineCode",{parentName:"h4"},"login_required")," decorator"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \ub85c\uadf8\uc778\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc73c\uba74, ",(0,l.kt)("inlineCode",{parentName:"li"},"settings.LOGIN_URL"),"\uc5d0 \uc124\uc815\ub41c \ubb38\uc790\uc5f4 \uae30\ubc18 \uc808\ub300 \uacbd\ub85c\ub85c redirect \ud568",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"LOGIN_URL\uc758 \uae30\ubcf8 \uac12\uc740 '",(0,l.kt)("inlineCode",{parentName:"li"},"/accounts/login/"),"'"),(0,l.kt)("li",{parentName:"ul"},"\ub450\ubc88\uc9f8 app \uc774\ub984\uc744 accounts \ub85c \ud588\ub358 \uc774\uc720 \uc911 \ud558\ub098"))),(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \ub85c\uadf8\uc778\ub418\uc5b4 \uc788\uc73c\uba74 \uc815\uc0c1\uc801\uc73c\ub85c view \ud568\uc218\ub97c \uc2e4\ud589"),(0,l.kt)("li",{parentName:"ul"},'\uc778\uc99d \uc131\uacf5 \uc2dc \uc0ac\uc6a9\uc790\uac00 redirect \ub418\uc5b4\uc57c\ud558\ub294 \uacbd\ub85c\ub294 "next"\ub77c\ub294 \ucffc\ub9ac \ubb38\uc790\uc5f4 \ub9e4\uac1c \ubcc0\uc218\uc5d0 \uc800\uc7a5\ub428',(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc608\uc2dc) /accounts/login/?next=/articles/create/"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#the-login-required-decorator"},"\uacf5\uc2dd\ubb38\uc11c")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/ref/settings/#std:setting-LOGIN_URL"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# articles/views.py\n\nfrom django.contrib.auth.decorators import login_required\n\n@login_required\n@require_http_methods(['GET', 'POST'])\ndef create(request):\n    ...\n\n    \n@login_required\n@require_POST\ndef delete(request, pk):\n    ...\n    \n    \n@login_required\n@require_http_methods(['GET', 'POST'])\ndef update(request, pk):\n    ...\n")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"view \ud568\uc218\uc5d0 login_required \ub370\ucf54\ub808\uc774\ud130 \uc791\uc131"),(0,l.kt)("li",{parentName:"ol"},"\ube44\ub85c\uadf8\uc778 \uc0c1\ud0dc\uc5d0\uc11c /accounts/create/ \uacbd\ub85c\ub85c \uc694\uccad \ubcf4\ub0b4\uae30"),(0,l.kt)("li",{parentName:"ol"},"URL\uc5d0 next \ubb38\uc790\uc5f4 \ub9e4\uac1c\ubcc0\uc218 \ud655\uc778")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"http://127.0.0.1:8000/accounts/login/?next=/articles/create/\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"next-query-string-parameter"},(0,l.kt)("inlineCode",{parentName:"h3"},"next")," query string parameter"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc9c4\ud589\ub418\uba74 \uae30\uc874\uc5d0 \uc694\uccad\ud588\ub358 \uc8fc\uc18c\ub85c redirect \ud558\uae30 \uc704\ud574 \ub9c8\uce58 \uc8fc\uc18c\ub97c keep \ud574\uc8fc\ub294 \uac83"),(0,l.kt)("li",{parentName:"ul"},"\ub2e8, \ubcc4\ub3c4\ub85c \ucc98\ub9ac \ud574\uc8fc\uc9c0 \uc54a\uc73c\uba74 \uc6b0\ub9ac\uac00 view\uc5d0 \uc124\uc815\ud55c redirect \uacbd\ub85c\ub85c \uc774\ub3d9\ud558\uac8c \ub428")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/views.py\n\n@require_http_methods(['GET', 'POST'])\ndef login(request):\n    if request.user.is_authenticated:\n        return redirect('articles:index')\n\n    if request.method == 'POST':\n        form = AuthenticationForm(request, request.POST)\n        if form.is_valid():\n            auth_login(request, form.get_user())\n            return redirect(request.GET.get('next') or 'articles:index')  # next query\n    else:\n        form = AuthenticationForm()\n    context = {\n        'form': form\n    }\n    return render(request, 'accounts/login.html', context)\n")),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud604\uc7ac URL\ub85c (next parameter\uac00 \uc788\ub294) \uc694\uccad\uc744 \ubcf4\ub0b4\uae30 \uc704\ud574 action \uac12 \ube44\uc6b0\uae30")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- accounts/login.html --\x3e\n\n{% extends \'base.html\' %}\n\n{% block content %}\n  <h1>Login</h1>\n  <form action="" method="POST">\n    {% csrf_token %}\n    {{ form.as_p }}\n    <input type="submit">\n  </form>\n{% endblock content %}\n')),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"\ub450-\ub370\ucf54\ub808\uc774\ud130\ub85c-\uc778\ud574-\ubc1c\uc0dd\ud558\ub294-\uad6c\uc870\uc801-\ubb38\uc81c\uc640-\ud574\uacb0"},"\ub450 \ub370\ucf54\ub808\uc774\ud130\ub85c \uc778\ud574 \ubc1c\uc0dd\ud558\ub294 \uad6c\uc870\uc801 \ubb38\uc81c\uc640 \ud574\uacb0"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ube44\ub85c\uadf8\uc778 \uc0c1\ud0dc\uc5d0\uc11c \uac8c\uc2dc\uae00 \uc0ad\uc81c \uc2dc\ub3c4 \u2192 redirect\ub85c \uc774\ub3d9\ud55c \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\uc5d0\uc11c \ub85c\uadf8\uc778 \uc2dc\ub3c4 \u2192 405(Method Not Allowed) status code \ud655\uc778"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"@require_POST")," \uc791\uc131\ub41c \ud568\uc218\uc5d0 ",(0,l.kt)("inlineCode",{parentName:"li"},"@login_required"),"\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 ",(0,l.kt)("strong",{parentName:"li"},"\uc5d0\ub7ec \ubc1c\uc0dd")),(0,l.kt)("li",{parentName:"ul"},'\ub85c\uadf8\uc778 \uc774\ud6c4 "next" \ub9e4\uac1c\ubcc0\uc218\ub97c \ub530\ub77c \ud574\ub2f9 \ud568\uc218\ub85c \ub2e4\uc2dc redirect \ub418\ub294\ub370, \uc774 \ub54c ',(0,l.kt)("inlineCode",{parentName:"li"},"@require_POST")," \ub54c\ubb38\uc5d0 405 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uac8c \ub428"),(0,l.kt)("li",{parentName:"ul"},"\ub450 \uac00\uc9c0 \ubb38\uc81c \ubc1c\uc0dd",(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},"redirect \uacfc\uc815\uc5d0\uc11c POST \ub370\uc774\ud130\uc758 \uc190\uc2e4"),(0,l.kt)("li",{parentName:"ol"},"redirect \uc694\uccad\uc740 POST \ubc29\uc2dd\uc774 \ubd88\uac00\ub2a5\ud558\uae30 \ub54c\ubb38\uc5d0 GET \ubc29\uc2dd\uc73c\ub85c \uc694\uccad\ub428")))),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778 \uc131\uacf5 \ud6c4 next\uc5d0 \ub2f4\uae34 \uacbd\ub85c\ub85c \ub9ac\ub2e4\uc774\ub809\ud2b8 \ub420 \ub54c \uc5d0\ub7ec \ubc1c\uc0dd")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915203033372",src:n(9194).Z})),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"login_required"),"\ub294 GET method request\ub97c \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 view \ud568\uc218\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\ud574\uc57c \ud568.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'"""\n@login_required\n@require_POST\ndef delete(request, pk):\n    article = get_object_or_404(Article, pk=pk)\n    article.delete()\n    return redirect(\'articles:index\')\n"""\n\n@require_POST\ndef delete(request, pk):\n    if request.user.is_authenticated:\n        article = get_object_or_404(Article, pk=pk)\n        article.delete()\n    return redirect(\'articles:index\')\n')),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ud68c\uc6d0\uac00\uc785"},"\ud68c\uc6d0\uac00\uc785"),(0,l.kt)("h3",{id:"usercreationform"},"UserCreationForm"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc8fc\uc5b4\uc9c4 username\uacfc password\ub85c \uad8c\ud55c\uc774 \uc5c6\ub294 \uc0c8 user\ub97c \uc0dd\uc131\ud558\ub294 ",(0,l.kt)("inlineCode",{parentName:"li"},"ModelForm")),(0,l.kt)("li",{parentName:"ul"},"3\uac1c\uc758 \ud544\ub4dc\ub97c \uac00\uc9d0",(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},"username (from the user model)"),(0,l.kt)("li",{parentName:"ol"},"password1"),(0,l.kt)("li",{parentName:"ol"},"password2"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#django.contrib.auth.forms.UserCreationForm"},"\uacf5\uc2dd\ubb38\uc11c")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/django/django/blob/main/django/contrib/auth/forms.py#175"},"Github"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# UserCreationForm \ud655\uc778\ud574\ubcf4\uae30\n\nclass UserCreationForm(forms.ModelForm):\n    \"\"\"\n    A form that creates a user, with no privileges, from the given username and\n    password.\n    \"\"\"\n    error_messages = {\n        'password_mismatch': _('The two password fields didn\u2019t match.'),\n    }\n    password1 = forms.CharField(\n        label=_(\"Password\"),\n        strip=False,\n        widget=forms.PasswordInput(attrs={'autocomplete': 'new-password'}),\n        help_text=password_validation.password_validators_help_text_html(),\n    )\n    password2 = forms.CharField(\n        label=_(\"Password confirmation\"),\n        widget=forms.PasswordInput(attrs={'autocomplete': 'new-password'}),\n        strip=False,\n        help_text=_(\"Enter the same password as before, for verification.\"),\n    )\n    ...\n")),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/urls.py\n\napp_name = 'accounts'\nurlpatterns = [\n    ...\n    path('signup/', views.signup, name='signup'),\n]\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/views.py\n\nfrom django.contrib.auth.forms import AuthenticationForm, UserCreationForm\n\n\ndef signup(request):\n    if request.method == 'POST':\n        form = UserCreationForm(request.POST)\n        if form.is_valid():\n            form.save()\n            return redirect('articles:index')\n    else:\n        form = UserCreationForm()\n    context = {\n        'form': form,\n    }\n    return render(request, 'accounts/signup.html', context)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- accounts/signup.html --\x3e\n\n{% extends \'base.html\' %}\n\n{% block content %}\n  <h1>\ud68c\uc6d0\uac00\uc785</h1>\n  <form action="{% url \'accounts:signup\' %}" method="POST">\n    {% csrf_token %}\n    {{ form.as_p }}\n    <input type="submit">\n  </form>\n{% endblock content %}\n')),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\uac00\uc785 \ud6c4 admin \ud398\uc774\uc9c0\uc5d0\uc11c \uc0c8\ub85c\uc6b4 \uacc4\uc815\uc774 \uc0dd\uacbc\ub294\uc9c0 \ud655\uc778")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915205428275",src:n(8678).Z})),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"@require_http_methods(['GET', 'POST'])\ndef signup(request):\n    if request.method == 'POST':\n        form = UserCreationForm(request.POST)\n        if form.is_valid():\n            user = form.save()\n            auth_login(request, user)\n            return redirect('articles:index')\n    else:\n        form = UserCreationForm()\n    context = {\n        'form': form,\n    }\n    return render(request, 'accounts/signup.html', context)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'# UserCreationForm\uc758 save \uba54\uc11c\ub4dc\n    def save(self, commit=True):\n        user = super().save(commit=False)\n        user.set_password(self.cleaned_data["password1"])\n        if commit:\n            user.save()\n        return user\n')),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\uac00\uc785 \ub9c1\ud06c \uc791\uc131")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- base.html --\x3e\n\n  <div class="container">\n    {% if request.user.is_authenticated %}\n      <h3>Hello, {{ user }}</h3>\n      <form action="{% url \'accounts:logout\' %}" method="POST">\n        {% csrf_token %}\n        <input type="submit" value="Logout">\n      </form>\n    {% else %}\n      <a href="{% url \'accounts:login\' %}">Login</a>\n      <a href="{% url \'accounts:signup\' %}">Signup</a>\n    {% endif %}\n    {% block content %}\n    {% endblock content %}\n  </div>\n')),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ud68c\uc6d0\ud0c8\ud1f4"},"\ud68c\uc6d0\ud0c8\ud1f4"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\ud0c8\ud1f4\ub294 DB\uc5d0\uc11c \uc0ac\uc6a9\uc790\ub97c \uc0ad\uc81c\ud558\ub294 \uac83\uacfc \uac19\uc74c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/urls.py\n\napp_name = 'accounts'\nurlpatterns = [\n    ...\n    path('delete/', views.delete, name='delete'),\n]\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/views.py\n\n@require_POST\ndef delete(request):\n    if request.user.is_authenticated:\n        request.user.delete()\n    return redirect('articles:index')\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- base.html --\x3e\n\n  <div class="container">\n    {% if request.user.is_authenticated %}\n      <h3>Hello, {{ user }}</h3>\n      <form action="{% url \'accounts:logout\' %}" method="POST">\n        {% csrf_token %}\n        <input type="submit" value="Logout">\n      </form>\n      <form action="{% url \'accounts:delete\' %}" method="POST">\n        {% csrf_token %}\n        <input type="submit" value="\ud68c\uc6d0\ud0c8\ud1f4">\n      </form>\n    {% else %}\n      <a href="{% url \'accounts:login\' %}">Login</a>\n      <a href="{% url \'accounts:signup\' %}">Signup</a>\n    {% endif %}\n    {% block content %}\n    {% endblock content %}\n  </div>\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\ud0c8\ud1f4 \uc9c4\ud589 \ud6c4 sqlite \ud655\uc7a5 \ud504\ub85c\uadf8\ub7a8\uc774\ub098 admin \ud398\uc774\uc9c0\uc5d0\uc11c \uc720\uc800\uac00 \uc0ad\uc81c \ub418\uc5c8\ub294\uc9c0 \ud655\uc778")),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud0c8\ud1f4 \ud558\uba74\uc11c \ud574\ub2f9 \uc720\uc800\uc758 \uc138\uc158 \ub370\uc774\ud130\ub3c4 \ud568\uaed8 \uc9c0\uc6b8 \uacbd\uc6b0 (\ub2e8, \ubc18\ub4dc\uc2dc \ud0c8\ud1f4 \ud6c4 \ub85c\uadf8\uc544\uc6c3 \uc21c\uc73c\ub85c \ucc98\ub9ac\ud574\uc57c \ud568)")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/views.py\n\n@require_POST\ndef delete(request):\n    if request.user.is_authenticated:\n        request.user.delete()\n        auth_logout(request)\n    return redirect('articles:index')\n")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ud68c\uc6d0\uc815\ubcf4-\uc218\uc815"},"\ud68c\uc6d0\uc815\ubcf4 \uc218\uc815"),(0,l.kt)("h3",{id:"userchangeform"},(0,l.kt)("inlineCode",{parentName:"h3"},"UserChangeForm")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uc758 \uc815\ubcf4 \ubc0f \uad8c\ud55c\uc744 \ubcc0\uacbd\ud558\uae30 \uc704\ud574 admin \uc778\ud130\ud398\uc774\uc2a4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 ModelForm"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#django.contrib.auth.forms.UserChangeForm"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"class UserChangeForm(forms.ModelForm):\n    password = ReadOnlyPasswordHashField(\n        label=_(\"Password\"),\n        help_text=_(\n            'Raw passwords are not stored, so there is no way to see this '\n            'user\u2019s password, but you can change the password using '\n            '<a href=\"{}\">this form</a>.'\n        ),\n    )\n\n    class Meta:\n        model = User\n        fields = '__all__'\n        field_classes = {'username': UsernameField}\n    ...\n")),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/urls.py\n\napp_name = 'accounts'\nurlpatterns = [\n    ...\n    path('update/', views.update, name='update'),\n]\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/views.py\n\nfrom django.contrib.auth.forms import AuthenticationForm, UserCreationForm, UserChangeForm\n\n\n@require_http_methods(['GET', 'POST'])\ndef update(request):\n    if request.method == 'POST':\n        pass\n    else:\n        form = UserChangeForm(instance=request.user)\n    context = {\n        'form': form,\n    }\n    return render(request, 'accounts/update.html', context)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- accounts/update.html --\x3e\n\n{% extends \'base.html\' %}\n\n{% block content %}\n  <h1>\ud68c\uc6d0 \uc815\ubcf4 \uc218\uc815</h1>\n  <form action="{% url \'accounts:update\' %}" method="POST">\n    {% csrf_token %}\n    {{ form.as_p }}\n    <input type="submit">\n  </form>\n{% endblock content %}\n')),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\uc815\ubcf4 \uc218\uc815 \ud398\uc774\uc9c0 \ud655\uc778")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915212035774",src:n(7343).Z})),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\uc815\ubcf4 \uc218\uc815 \ud398\uc774\uc9c0 \ub9c1\ud06c \uc791\uc131")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- base.html --\x3e\n\n  <div class="container">\n    {% if request.user.is_authenticated %}\n      <h3>Hello, {{ user }}</h3>\n      <a href="{% url \'accounts:update\' %}">\ud68c\uc6d0\uc815\ubcf4 \uc218\uc815</a>\n      <form action="{% url \'accounts:logout\' %}" method="POST">\n        {% csrf_token %}\n        <input type="submit" value="Logout">\n      </form>\n      <form action="{% url \'accounts:delete\' %}" method="POST">\n        {% csrf_token %}\n        <input type="submit" value="\ud68c\uc6d0\ud0c8\ud1f4">\n      </form>\n    {% else %}\n      <a href="{% url \'accounts:login\' %}">Login</a>\n      <a href="{% url \'accounts:signup\' %}">Signup</a>\n    {% endif %}\n    {% block content %}\n    {% endblock content %}\n  </div>\n')),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"userchangeform-\uc0ac\uc6a9-\uc2dc-\ubb38\uc81c\uc810"},(0,l.kt)("inlineCode",{parentName:"h3"},"UserChangeForm")," \uc0ac\uc6a9 \uc2dc \ubb38\uc81c\uc810"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc77c\ubc18 \uc0ac\uc6a9\uc790\uac00 \uc811\uadfc\ud574\uc11c\ub294 \uc548\ub420 \uc815\ubcf4\ub4e4(fields)\uae4c\uc9c0 \ubaa8\ub450 \uc218\uc815\uc774 \uac00\ub2a5\ud574\uc9d0"),(0,l.kt)("li",{parentName:"ul"},"\ub530\ub77c\uc11c ",(0,l.kt)("inlineCode",{parentName:"li"},"UserChangeForm"),"\uc744 \uc0c1\uc18d\ubc1b\uc544 ",(0,l.kt)("inlineCode",{parentName:"li"},"CustomUserChangeForm"),"\uc774\ub77c\ub294 \uc11c\ube0c\ud074\ub798\uc2a4\ub97c \uc791\uc131\ud574 \uc811\uadfc \uac00\ub2a5\ud55c \ud544\ub4dc\ub97c \uc870\uc815\ud574\uc57c \ud568")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"customuserchangeform-\uc791\uc131"},(0,l.kt)("inlineCode",{parentName:"h3"},"CustomUserChangeForm")," \uc791\uc131"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"get_user_model()")),(0,l.kt)("li",{parentName:"ol"},"User \ubaa8\ub378\uc758 fields")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/forms.py\n\nfrom django.contrib.auth.forms import UserChangeForm\nfrom django.contrib.auth import get_user_model\n\n\nclass CustomUserChangeForm(UserChangeForm):\n\n    class Meta:\n        model = get_user_model()\n        fields = ()\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"get_user_model"},(0,l.kt)("inlineCode",{parentName:"h4"},"get_user_model()")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud604\uc7ac \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \ud65c\uc131\ud654\ub41c \uc0ac\uc6a9\uc790 \ubaa8\ub378(active user model)\uc744 \ubc18\ud658"),(0,l.kt)("li",{parentName:"ul"},"django\ub294 User \ud074\ub798\uc2a4\ub97c \uc9c1\uc811 \ucc38\uc870\ud558\ub294 \ub300\uc2e0 ",(0,l.kt)("inlineCode",{parentName:"li"},"django.contrib.auth.get_user_model()")," \uc744 \uc0ac\uc6a9\ud558\uc5ec \ucc38\uc870\ud574\uc57c \ud55c\ub2e4\uace0 \uac15\uc870"),(0,l.kt)("li",{parentName:"ul"},"User model \ucc38\uc870\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \ucd94\ud6c4 \ubaa8\ub378 \uad00\uacc4 \uc218\uc5c5\uc5d0\uc11c \ub2e4\ub8f8"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/customizing/#referencing-the-user-model"},"\uacf5\uc2dd\ubb38\uc11c")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/django/django/blob/main/django/contrib/auth/__init__.py#L155"},"Github"))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"user-\ud074\ub798\uc2a4-\uc0c1\uc18d-\uad6c\uc870-\uc0b4\ud3b4\ubcf4\uae30"},"User \ud074\ub798\uc2a4 \uc0c1\uc18d \uad6c\uc870 \uc0b4\ud3b4\ubcf4\uae30"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"UserChangeForm")," \ud074\ub798\uc2a4 \uad6c\uc870 \ud655\uc778",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Meta \ud074\ub798\uc2a4\ub97c \ubcf4\uba74 User\ub77c\ub294 model\uc744 \ucc38\uc870\ud558\ub294 ModelForm\uc774\ub77c\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc74c"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/django/django/blob/main/django/contrib/auth/forms.py#L135"},"UserChangeForm")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"User")," \ud074\ub798\uc2a4 \uad6c\uc870 \ud655\uc778",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc2e4\uc81c\ub85c User \ud074\ub798\uc2a4\ub294 Meta \ud074\ub798\uc2a4\ub97c \uc81c\uc678\ud55c \ucf54\ub4dc\uac00 \uc5c6\uace0 AbstractUser \ud074\ub798\uc2a4\ub97c \uc0c1\uc18d\ubc1b\uace0 \uc788\uc74c"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/django/django/blob/main/django/contrib/auth/models.py#L389"},"User")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"AbstractUser")," \ud074\ub798\uc2a4 \uad6c\uc870 \ud655\uc778",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ud074\ub798\uc2a4 \ubcc0\uc218\uba85\ub4e4\uc744 \ud655\uc778\ud574\ubcf4\uba74 \ud68c\uc6d0\uc218\uc815 \ud398\uc774\uc9c0\uc5d0\uc11c \ubd24\ub358 \ud544\ub4dc\ub4e4\uacfc \uc77c\uce58\ud55c\ub2e4\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc74c"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/django/django/blob/main/django/contrib/auth/models.py#L321"},"AbstractUser")))),(0,l.kt)("li",{parentName:"ol"},"\ub9c8\uc9c0\ub9c9\uc73c\ub85c \uacf5\uc2dd\ubb38\uc11c\uc758 User \ubaa8\ub378 Fields \ud655\uc778",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/ref/contrib/auth/#user-model"},"\uacf5\uc2dd\ubb38\uc11c"))))),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc218\uc815 \uc2dc \ud544\uc694\ud55c \ud544\ub4dc\ub9cc \uc120\ud0dd\ud574\uc11c \uc791\uc131")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/forms.py\n\nfrom django.contrib.auth.forms import UserChangeForm\nfrom django.contrib.auth import get_user_model\n\n\nclass CustomUserChangeForm(UserChangeForm):\n\n    class Meta:\n        model = get_user_model()\n        fields = ('email', 'first_name', 'last_name',)\n")),(0,l.kt)("br",null),"- `CustomUserChangeForm`\uc73c\ub85c \ubcc0\uacbd",(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/views.py\n\nfrom django.contrib.auth.decorators import login_required\nfrom .forms import CustomUserChangeForm\n\n\n@login_required\n@require_http_methods(['GET', 'POST'])\ndef update(request):\n    if request.method == 'POST':\n        form = CustomUserChangeForm(request.POST, instance=request.user)\n        if form.is_valid():\n            form.save()\n            return redirect('articles:index')\n    else:\n        form = CustomUserChangeForm(instance=request.user)\n    context = {\n        'form': form,\n    }\n    return render(request, 'accounts/update.html', context)\n")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915213137413",src:n(6459).Z})),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ube44\ubc00\ubc88\ud638-\ubcc0\uacbd"},"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"),(0,l.kt)("h3",{id:"passwordchangeform"},"PasswordChangeForm"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \ube44\ubc00\ubc88\ud638\ub97c \ubcc0\uacbd\ud560 \uc218 \uc788\ub3c4\ub85d \ud558\ub294 Form"),(0,l.kt)("li",{parentName:"ul"},"\uc774\uc804 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc5ec \ube44\ubc00\ubc88\ud638\ub97c \ubcc0\uacbd\ud560 \uc218 \uc788\ub3c4\ub85d \ud568"),(0,l.kt)("li",{parentName:"ul"},"\uc774\uc804 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uace0 \ube44\ubc00\ubc88\ud638\ub97c \uc124\uc815\ud560 \uc218 \uc788\ub294 ",(0,l.kt)("inlineCode",{parentName:"li"},"SetPasswordForm"),"\uc744 \uc0c1\uc18d\ubc1b\ub294 \uc11c\ube0c \ud074\ub798\uc2a4"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#django.contrib.auth.forms.PasswordChangeForm"},"\uacf5\uc2dd\ubb38\uc11c")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/django/django/blob/main/django/contrib/auth/forms.py#1363"},"Github"))),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/urls.py\n\napp_name = 'accounts'\nurlpatterns = [\n    ...\n    path('password/', views.change_password, name='change_password'),\n]\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/views.py\n\nfrom django.contrib.auth.forms import (\n    AuthenticationForm,\n    UserCreationForm,\n    PasswordChangeForm\n)\n\n\n@login_required\n@require_http_methods(['GET', 'POST'])\ndef change_password(request):\n    if request.method == 'POST':\n        form = PasswordChangeForm(request.user, request.POST)\n        if form.is_valid():\n            form.save()\n            return redirect('articles:index')\n    else:\n        form = PasswordChangeForm(request.user)\n    context = {\n        'form': form,\n    }\n    return render(request, 'accounts/change_password.html', context)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- accounts/change_password.html --\x3e\n\n{% extends \'base.html\' %}\n\n{% block content %}\n  <h1>\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd</h1>\n  <form action="{% url \'accounts:change_password\' %}" method="POST">\n    {% csrf_token %}\n    {{ form.as_p }}\n    <input type="submit">\n  </form>\n{% endblock content %}\n')),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"image-20210915213831882",src:n(2964).Z})),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"setpasswordform"},(0,l.kt)("inlineCode",{parentName:"h4"},"SetPasswordForm")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"PasswordChangeForm\uc758 \uccab\ubc88\uc9f8 \uc778\uc790\uac00 user\uc778 \uc774\uc720")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"class SetPasswordForm(forms.Form):\n    \"\"\"\n    A form that lets a user change set their password without entering the old\n    password\n    \"\"\"\n    error_messages = {\n        'password_mismatch': _('The two password fields didn\u2019t match.'),\n    }\n    new_password1 = forms.CharField(\n        label=_(\"New password\"),\n        widget=forms.PasswordInput(attrs={'autocomplete': 'new-password'}),\n        strip=False,\n        help_text=password_validation.password_validators_help_text_html(),\n    )\n    new_password2 = forms.CharField(\n        label=_(\"New password confirmation\"),\n        strip=False,\n        widget=forms.PasswordInput(attrs={'autocomplete': 'new-password'}),\n    )\n\n    def __init__(self, user, *args, **kwargs):\n        self.user = user\n        super().__init__(*args, **kwargs)\n    ...\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"\uc554\ud638-\ubcc0\uacbd-\uc2dc-\uc138\uc158-\ubb34\ud6a8\ud654-\ubc29\uc9c0"},"\uc554\ud638 \ubcc0\uacbd \uc2dc \uc138\uc158 \ubb34\ud6a8\ud654 \ubc29\uc9c0"),(0,l.kt)("h4",{id:"update_session_auth_hashrequest-user"},(0,l.kt)("inlineCode",{parentName:"h4"},"update_session_auth_hash(request, user)")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud604\uc7ac \uc694\uccad(current request)\uacfc \uc0c8 session hash\uac00 \ud30c\uc0dd \ub420 \uc5c5\ub370\uc774\ud2b8 \ub41c \uc0ac\uc6a9\uc790 \uac1d\uccb4\ub97c \uac00\uc838\uc624\uace0, session hash\ub97c \uc801\uc808\ud558\uac8c \uc5c5\ub370\uc774\ud2b8"),(0,l.kt)("li",{parentName:"ul"},"\ube44\ubc00\ubc88\ud638\uac00 \ubcc0\uacbd\ub418\uba74 \uae30\uc874 \uc138\uc158\uacfc\uc758 \ud68c\uc6d0 \uc778\uc99d \uc815\ubcf4\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uac8c \ub418\uc5b4 \ub85c\uadf8\uc778 \uc0c1\ud0dc\ub97c \uc720\uc9c0\ud560 \uc218 \uc5c6\uae30 \ub54c\ubb38"),(0,l.kt)("li",{parentName:"ul"},"\uc554\ud638\uac00 \ubcc0\uacbd\ub418\uc5b4\ub3c4 \ub85c\uadf8\uc544\uc6c3\ub418\uc9c0 \uc54a\ub3c4\ub85d \uc0c8\ub85c\uc6b4 password hash\ub85c session\uc744 \uc5c5\ub370\uc774\ud2b8 \ud568"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.djangoproject.com/en/3.2/topics/auth/default/#django.contrib.auth.update_session_auth_hash"},"\uacf5\uc2dd\ubb38\uc11c"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# accounts/views.py\n\nfrom django.contrib.auth import update_session_auth_hash\n\n\n@login_required\n@require_http_methods(['GET', 'POST'])\ndef change_password(request):\n    if request.method == 'POST':\n        form = PasswordChangeForm(request.user, request.POST)\n        if form.is_valid():\n            form.save()\n            update_session_auth_hash(request, form.user)\n            return redirect('articles:index')\n    else:\n        form = PasswordChangeForm(request.user)\n    context = {\n        'form': form,\n    }\n    return render(request, 'accounts/change_password.html', context)\n")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ub9c8\ubb34\ub9ac"},"\ub9c8\ubb34\ub9ac"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The Django Authentication System"),(0,l.kt)("li",{parentName:"ul"},"\ucfe0\ud0a4\uc640 \uc138\uc158"),(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778"),(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc544\uc6c3"),(0,l.kt)("li",{parentName:"ul"},"\ub85c\uadf8\uc778 \uc0ac\uc6a9\uc790\uc5d0 \ub300\ud55c \uc811\uadfc \uc81c\ud55c"),(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\uac00\uc785"),(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\ud0c8\ud1f4"),(0,l.kt)("li",{parentName:"ul"},"\ud68c\uc6d0\uc815\ubcf4 \uc218\uc815"),(0,l.kt)("li",{parentName:"ul"},"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd")))}p.isMDXComponent=!0},5300:function(e,t,n){t.Z=n.p+"assets/images/admin-26a5d090490097032125e6449e645f45.png"},6110:function(e,t,n){t.Z=n.p+"assets/images/anonymous-150536994665b7cb59628e4dbd7a56ec.png"},2964:function(e,t,n){t.Z=n.p+"assets/images/changepw-034a78715f04b76d413d57d9baf18227.png"},9582:function(e,t,n){t.Z=n.p+"assets/images/cookie-904b2dcc2e75e140814009cd2b983e32.png"},2907:function(e,t,n){t.Z=n.p+"assets/images/cookie2-1348ff4ed0f1acb779ba9b4ba755ca1b.png"},3749:function(e,t,n){t.Z=n.p+"assets/images/cookie3-bc01d2dceb51c969013427f0354a7caf.png"},6597:function(e,t,n){t.Z=n.p+"assets/images/cookie4-87e68d657aa18ba7e376f68f18429015.png"},5548:function(e,t,n){t.Z=n.p+"assets/images/cookie5-3526a763f444fa829745fd3a28178d51.png"},3636:function(e,t,n){t.Z=n.p+"assets/images/cookie6-786266394a67ebb721ecf7c4dcf1ba4b.png"},6510:function(e,t,n){t.Z=n.p+"assets/images/coupang-3112560691e7d25025d015d881988bee.png"},9194:function(e,t,n){t.Z=n.p+"assets/images/redirect-571bf6e979134abbc8cc27e394e8fea8.png"},8678:function(e,t,n){t.Z=n.p+"assets/images/signup-b4d7b4ca6ccb637dd30b54c6ad0c7c95.png"},7343:function(e,t,n){t.Z=n.p+"assets/images/update-5f1a28c1e5bf28810b2a970b32aca46e.png"},6459:function(e,t,n){t.Z=n.p+"assets/images/update2-71647d282bd99c179ca8614048bf948d.png"}}]);