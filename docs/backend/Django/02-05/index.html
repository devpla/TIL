<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="search" type="application/opensearchdescription+xml" title="Today I Learned" href="/TIL/opensearch.xml"><title data-react-helmet="true">Static &amp; Media Files | Today I Learned</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://devpla.github.io/TIL/docs/backend/Django/02-05"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Static &amp; Media Files | Today I Learned"><meta data-react-helmet="true" name="description" content="- Static files"><meta data-react-helmet="true" property="og:description" content="- Static files"><link data-react-helmet="true" rel="shortcut icon" href="/TIL/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://devpla.github.io/TIL/docs/backend/Django/02-05"><link data-react-helmet="true" rel="alternate" href="https://devpla.github.io/TIL/docs/backend/Django/02-05" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://devpla.github.io/TIL/docs/backend/Django/02-05" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://P19FK0A5FI-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/TIL/assets/css/styles.d2a5650e.css">
<link rel="preload" href="/TIL/assets/js/runtime~main.72d8d802.js" as="script">
<link rel="preload" href="/TIL/assets/js/main.0c15651c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/TIL/"><div class="navbar__logo"><img src="/TIL/img/logo.png" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/TIL/img/logo.png" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Today I Learned</b></a><a class="navbar__item navbar__link" href="/TIL/docs/frontend/intro">Frontend</a><a class="navbar__item navbar__link" href="/TIL/docs/backend/intro">Backend</a><a class="navbar__item navbar__link" href="/TIL/docs/CS/intro">CS</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Etc</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/TIL/docs/etc/infra/intro">infra</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/devpla/TIL" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle toggle_2i4l toggle--disabled" role="button" tabindex="-1"><div class="toggle__icon toggle__icon--unchecked" style="font-family:Material Icons">dark_mode</div><div class="toggle__icon toggle__icon--checked" style="font-family:Material Icons">light_mode</div><input type="checkbox" class="toggle__screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/TIL/docs/backend/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Django</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TIL/docs/backend/Django/02-00">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TIL/docs/backend/Django/02-01">MTV Pattern</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TIL/docs/backend/Django/02-02">CRUD with views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TIL/docs/backend/Django/02-03">Form &amp; ModelForm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TIL/docs/backend/Django/02-04">Authentication System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/TIL/docs/backend/Django/02-05">Static &amp; Media Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TIL/docs/backend/Django/02-06">SQL &amp; ORM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TIL/docs/backend/Django/02-07">Model Relationship - 1:N</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TIL/docs/backend/Django/02-08">Model Relationship - M:N</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TIL/docs/backend/Django/02-09">REST API</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Static &amp; Media Files</h1></header><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Managing Static Files</h5></div><div class="admonition-content"><ul><li>Static files</li><li>Media files<ul><li>Image Upload</li><li>Image Resizing</li></ul></li></ul></div></div><br><h2 class="anchor anchorWithStickyNavbar_y2LR" id="static-files">Static Files<a aria-hidden="true" class="hash-link" href="#static-files" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="static-file-정적-파일">Static file (정적 파일)<a aria-hidden="true" class="hash-link" href="#static-file-정적-파일" title="Direct link to heading">​</a></h3><ul><li>응답할 때 별도의 처리 없이 파일 내용을 그대로 보여주면 되는 파일<ul><li>즉, 사용자의 요청에 따라 내용이 바뀌는 것이 아니라 요청한 것을 그대로 보여주는 파일</li></ul></li><li>예를 들어, 웹 사이트는 일반적으로 <strong>이미지, 자바 스크립트 또는 CSS</strong>와 같은 미리 준비된 추가 파일(움직이지 않는)을 제공해야함</li><li>Django에서는 이러한 파일들을 <strong>static file(정적 파일)</strong>이라 함</li></ul><br><h4 class="anchor anchorWithStickyNavbar_y2LR" id="static-file-구성">Static file 구성<a aria-hidden="true" class="hash-link" href="#static-file-구성" title="Direct link to heading">​</a></h4><ol><li><code>django.contrib.staticfiles</code>가 <code>INSTALLED_APPS</code>에 포함되어 있는지 확인</li><li><code>settings.py</code>에서 <code>STATIC_URL</code>을 정의</li><li>템플릿에서 <strong>static 템플릿 태그</strong>를 사용하여 지정된 상대경로에 대한 URL을 빌드</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">{% load static %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">img</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{% static </span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">my_app/example.jpg</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)"> %}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">My image</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="4"><li>앱의 static 폴더에 정적 파일을 저장<ul><li>예시) <code>my_app/static/my_app/example.jpg</code></li></ul></li></ol><br><h4 class="anchor anchorWithStickyNavbar_y2LR" id="django-template-tag">Django template tag<a aria-hidden="true" class="hash-link" href="#django-template-tag" title="Direct link to heading">​</a></h4><ul><li><code>load</code><ul><li>사용자 정의 템플릿 태그 세트를 로드</li><li>로드하는 라이브러리, 패키지에 등록된 모든 태그와 필터를 로드</li></ul></li><li><code>static</code><ul><li>STATIC_ROOT에 저장된 정적 파일에 연결</li></ul></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">{% load static %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">img</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{% static </span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">my_app/example.jpg</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)"> %}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">My image</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-staticfiles-app">The staticfiles app<a aria-hidden="true" class="hash-link" href="#the-staticfiles-app" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="static_root"><code>STATIC_ROOT</code><a aria-hidden="true" class="hash-link" href="#static_root" title="Direct link to heading">​</a></h4><ul><li><code>collectstatic</code>이 배포를 위해 정적 파일을 수집하는 디렉토리의 절대 경로</li><li>django 프로젝트에서 사용하는 모든 정적 파일을 한 곳에 모아 넣는 경로</li><li>개발 과정에서 <code>settings.py</code>의 <code>DEBUG</code>값이 <code>True</code>로 설정되어 있으면 해당 값은 작용되지 않음<ul><li>직접 작성하지 않으면 django 프로젝트에서는 <code>settings.py</code>에 작성되어 있지 않음.</li></ul></li><li>실 서비스 환경(배포 환경)에서 django의 모든 정적 파일을 다른 웹 서버가 직접 제공하기 위함</li></ul><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="참고-collectstatic">[참고]<!-- --> collectstatic<a aria-hidden="true" class="hash-link" href="#참고-collectstatic" title="Direct link to heading">​</a></h5><ul><li>STATIC_ROOT에 정적 파일을 수집<ul><li>STATIC_ROOT 작성</li></ul></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># app 별로 흩어져있는 static 파일(css, js, images 등)을 모아둘 (collectstatic) 폴더명 지정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">STATIC_ROOT </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> BASE_DIR </span><span class="token operator" style="color:rgb(12, 150, 155)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;staticfiles&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>collectstatic 명령어</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">$ python manage.py collectstatic</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img alt="image-20210908092613954" src="data:image/png;base64,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"></p><br><h4 class="anchor anchorWithStickyNavbar_y2LR" id="static_url"><code>STATIC_URL</code><a aria-hidden="true" class="hash-link" href="#static_url" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">STATIC_URL </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;/static/&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li><code>STATIC_ROOT</code>*에 있는 정적 파일을 참조 할 때 사용할 URL<ul><li>(참고) 개발 단계에서는 실제 정적 파일들이 저장되어 있는 각 앱의 static/폴더 및 <code>STATICFILES_DIRS</code>에 정의된 추가 경로들을 탐색함</li></ul></li><li>실제 파일이나 디렉토리가 아니며, URL로만 존재</li><li><strong>비어 있지 않은 값으로 설정 한다면 반드시 slash(<code>/</code>)로 끝나야 함</strong></li></ul><br><h4 class="anchor anchorWithStickyNavbar_y2LR" id="staticfiles_dirs"><code>STATICFILES_DIRS</code><a aria-hidden="true" class="hash-link" href="#staticfiles_dirs" title="Direct link to heading">​</a></h4><ul><li><code>app/static/</code> 디렉토리 경로를 사용하는 것(기본 경로) 외에 <strong>추가적인 정적 파일 경로 목록을 정의하는 리스트</strong></li><li>추가 파일 디렉토리에 대한 전체 경로를 포함하는 문자열 목록으로 작성되어야 함.</li><li>settings.py에서 설정 가능</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># settings.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Static files (CSS, JavaScript, Images)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># https://docs.djangoproject.com/en/3.2/howto/static-files/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># django static 시스템이 자동으로 찾는 폴더</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">STATIC_URL </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;/static/&#x27;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># 기본값</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># 추가로 static 시스템이 검색하게 하려면, 아래와 같이 등록</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">STATICFILES_DIRS </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    BASE_DIR </span><span class="token operator" style="color:rgb(12, 150, 155)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;static&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h3 class="anchor anchorWithStickyNavbar_y2LR" id="정적-파일-사용하기">정적 파일 사용하기<a aria-hidden="true" class="hash-link" href="#정적-파일-사용하기" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="기본-경로">기본 경로<a aria-hidden="true" class="hash-link" href="#기본-경로" title="Direct link to heading">​</a></h4><ul><li>정적 파일 경로 : <code>app/static/app/</code></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">articles</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├─ migrations</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├─ static</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">│  └─ articles</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">│      └─ img.png</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├─ templates</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">└─ ...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>template에서 경로 참조</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">{% extends &#x27;base.html&#x27; %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% load static %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">img</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{% static </span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">articles/img.png</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)"> %}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">h2</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain">DETAIL</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">h2</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">   ...</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% endblock content %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h4 class="anchor anchorWithStickyNavbar_y2LR" id="추가-경로">추가 경로<a aria-hidden="true" class="hash-link" href="#추가-경로" title="Direct link to heading">​</a></h4><ul><li><p>BASE_DIR에 static/images 폴더 만들기</p></li><li><p>추가 경로 작성</p></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">STATICFILES_DIRS </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    BASE_DIR </span><span class="token operator" style="color:rgb(12, 150, 155)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;static&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">&lt;!-- base.html --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% load static %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token doctype punctuation" style="color:rgb(153, 76, 195);font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:rgb(153, 76, 195);font-style:italic">DOCTYPE</span><span class="token doctype" style="color:rgb(153, 76, 195);font-style:italic"> </span><span class="token doctype name" style="color:rgb(153, 76, 195);font-style:italic">html</span><span class="token doctype punctuation" style="color:rgb(153, 76, 195);font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">html</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">en</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">head</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">head</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">body</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">img</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{% static </span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">images/img.png</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)"> %}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">img</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">   ...</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">body</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">html</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h2 class="anchor anchorWithStickyNavbar_y2LR" id="media-files">Media Files<a aria-hidden="true" class="hash-link" href="#media-files" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="media-file-미디어-파일">Media file (미디어 파일)<a aria-hidden="true" class="hash-link" href="#media-file-미디어-파일" title="Direct link to heading">​</a></h3><ul><li>미디어 파일</li><li>사용자가 <strong>웹에서 업로드하는 정적 파일</strong>(user-uploaded)</li><li>유저가 업로드 한 모든 정적 파일</li></ul><br><h3 class="anchor anchorWithStickyNavbar_y2LR" id="이미지-업로드">이미지 업로드<a aria-hidden="true" class="hash-link" href="#이미지-업로드" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="1-기본-설정">1. 기본 설정<a aria-hidden="true" class="hash-link" href="#1-기본-설정" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithStickyNavbar_y2LR" id="1-imagefield">(1) <code>ImageField</code><a aria-hidden="true" class="hash-link" href="#1-imagefield" title="Direct link to heading">​</a></h5><ul><li>이미지 업로드에 사용하는 모델 필드</li><li>FileField를 상속받는 서브 클래스이기 때문에 FileField의 모든 속성 및 메서드를 사용 가능하며 더해서 사용자에 의해 업로드된 객체가 유효한 이미지인지 검사함</li><li>ImageField 인스턴스는 최대 길이가 100자인 문자열로 DB에 생성되며, <code>max_length</code> 인자를 사용하여 최대 길이를 변경할 수 있음</li></ul><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>주의</h5></div><div class="admonition-content"><ul><li>사용하려면 반드시 <a href="https://pillow.readthedocs.io/en/stable/" target="_blank" rel="noopener noreferrer">Pillow</a> 라이브러리가 필요</li></ul></div></div><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="2-filefield">(2) <code>FileField</code><a aria-hidden="true" class="hash-link" href="#2-filefield" title="Direct link to heading">​</a></h5><ul><li>파일 업로드에 사용하는 모델 필드</li><li>2개의 선택 인자를 가지고 있음<ol><li><code>upload_to</code></li><li><code>storage</code></li></ol></li></ul><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="3-upload_to-argument">(3) <code>upload_to</code> argument<a aria-hidden="true" class="hash-link" href="#3-upload_to-argument" title="Direct link to heading">​</a></h5><ul><li>업로드 디렉토리와 파일 이름을 성정하는 2가지 방법을 제공<ol><li>문자열 값이나 경로 지정</li><li>함수 호출</li></ol></li></ul><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="4-문자열-경로-지정-방식">(4) 문자열 경로 지정 방식<a aria-hidden="true" class="hash-link" href="#4-문자열-경로-지정-방식" title="Direct link to heading">​</a></h5><ul><li>파이썬의 <code>strftime()</code> 형식이 포함될 수 있으며, 이는 파일 업로드 날짜/시간으로 대체 됨</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># models.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">MyModel</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># MEDIA_ROOT/uploads/ 경로로 파일 업로드</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    upload </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">FileField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">upload_to</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;uploads/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># MEDIA_ROOT/uploads/2021/01/01/ 경로로 파일 업로드</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    upload </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">FileField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">upload_to</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;upload/%Y/%m/%d/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="5-함수-호출-방식">(5) 함수 호출 방식<a aria-hidden="true" class="hash-link" href="#5-함수-호출-방식" title="Direct link to heading">​</a></h5><ul><li>반드시 2개의 인자(<code>instance</code>, <code>filename</code>)를 사용함<ol><li><strong>instance</strong><ul><li>FileField가 정의된 모델의 인스턴스</li><li>대부분 이 객체는 아직 데이터베이스에 저장되지 않았으므로 PK값이 아직 없을 수 있음</li></ul></li><li><strong>filename</strong><ul><li>기존 파일에 제공된 파일 이름</li></ul></li></ol></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># models.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">articles_image_path</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">instance</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> filenane</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># MEDIA_ROOT/user_&lt;pk&gt;/ 경로로 &lt;filename&gt; 이름으로 업로드</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(72, 118, 214)">f&#x27;user_</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string-interpolation interpolation">instance</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token string-interpolation interpolation">user</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token string-interpolation interpolation">pk</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token string-interpolation string" style="color:rgb(72, 118, 214)">/</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string-interpolation interpolation">filename</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token string-interpolation string" style="color:rgb(72, 118, 214)">&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    image </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">ImageField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">upload_to</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">articles_image_path</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_y2LR" id="6-imagefield-or-filefield를-사용하기-위한-몇-가지-단계">(6) ImageField (or FileField)를 사용하기 위한 몇 가지 단계<a aria-hidden="true" class="hash-link" href="#6-imagefield-or-filefield를-사용하기-위한-몇-가지-단계" title="Direct link to heading">​</a></h5><ol><li>setting.py에 <code>MEDIA_ROOT</code>, <code>MEDIA_URL</code> 설정</li><li>upload_to 속성을 정의하여 업로드 된 파일에 사용할 <code>MEDIA_ROOT</code>의 하위 경로를 지정<ul><li>upload_tooptional argument</li></ul></li><li>업로드 된 파일의 상대 URL은 django가 제공하는 <code>url</code> 속성을 통해 얻을 수 있음</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">img</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{{ article.image.url }}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{{ article.image }}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="7-media_root">(7) <code>MEDIA_ROOT</code><a aria-hidden="true" class="hash-link" href="#7-media_root" title="Direct link to heading">​</a></h5><ul><li><strong>사용자가 업로드 한 파일(미디어 파일)들을 보관할 디렉토리의 절대 경로</strong></li><li>django는 성능을 위해 업로드 파일은 데이터베이스에 저장하지 않음<ul><li>실제 데이터베이스에 저장되는 것은 <strong>파일 경로</strong></li></ul></li></ul><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>주의</h5></div><div class="admonition-content"><ul><li>MEDIA_ROOT는 <code>STATIC_ROOT</code> 와 다른 경로로 지정을 해야 함</li></ul></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># settings.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">MEDIA_ROOT </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> BASE_DIR </span><span class="token operator" style="color:rgb(12, 150, 155)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;media&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="8-media_url">(8) <code>MEDIA_URL</code><a aria-hidden="true" class="hash-link" href="#8-media_url" title="Direct link to heading">​</a></h5><ul><li><p><code>MEDIA_ROOT</code>에서 제공되는 미디어를 처리하는 URL</p></li><li><p><strong>업로드 된 파일의 주소(URL)를 만들어 주는 역할</strong></p><ul><li>웹 서버 사용자가 사용하는 public URL</li></ul></li><li><p>비어 있지 않은 값으로 설정 한다면 반드시 slash(<code>/</code>)로 끝나야 함</p></li></ul><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>주의</h5></div><div class="admonition-content"><ul><li><code>MEDIA_URL</code>도 <code>STATIC_URL</code>과 경로가 달라야 함</li></ul></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># settings.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">MEDIA_URL </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;/media/&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="9-개발-단계에서-사용자가-업로드한-미디어-파일-제공하기">(9) 개발 단계에서 사용자가 업로드한 미디어 파일 제공하기<a aria-hidden="true" class="hash-link" href="#9-개발-단계에서-사용자가-업로드한-미디어-파일-제공하기" title="Direct link to heading">​</a></h5><ul><li><p>사용자로부터 업로드된 파일이 우리 프로젝트에 업로드 되지만, 실제로 사용자에게 제공하기 위해서는 업로드된 파일의 url이 필요</p></li><li><p><a href="https://docs.djangoproject.com/ko/3.2/howto/static-files/#serving-files-uploaded-by-a-user-during-development" target="_blank" rel="noopener noreferrer">django 공식문서</a>에서 가져오기</p></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># crud/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">conf </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> settings</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">urls</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">static </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> static</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">urlpatterns </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># ... the rest of your URLconf goes here ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token plain"> static</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">MEDIA_URL</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> document_root</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">MEDIA_ROOT</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># crud/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">contrib </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> admin</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">urls </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> include</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">conf </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> settings</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">urls</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">static </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> static</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">urlpatterns </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    path</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;admin/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> admin</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">site</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">urls</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    path</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;articles/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> include</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;articles.urls&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token plain"> static</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">MEDIA_URL</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> document_root</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">MEDIA_ROOT</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># 업로드 된 파일의 URL == settings.MEDIA_URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># 위 URL을 통해 참조하는 파일의 실제 위치 == settings.MEDIA_ROOT</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>업로드할 준비 완료</li></ul><br><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>이미지 업로드 기본 설정 정리</h5></div><div class="admonition-content"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># settings.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">MEDIA_ROOT </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> BASE_DIR </span><span class="token operator" style="color:rgb(12, 150, 155)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;media&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">MEDIA_URL </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;/media/&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># crud/urls.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">conf </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> settings</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">urls</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">static </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> static</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">urlpatterns </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># ... the rest of your URLconf goes here ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token plain"> static</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">MEDIA_URL</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> document_root</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">MEDIA_ROOT</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><br><h4 class="anchor anchorWithStickyNavbar_y2LR" id="2-create">2. CREATE<a aria-hidden="true" class="hash-link" href="#2-create" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithStickyNavbar_y2LR" id="1-imagefield-작성">(1) ImageField 작성<a aria-hidden="true" class="hash-link" href="#1-imagefield-작성" title="Direct link to heading">​</a></h5><ul><li><code>upload_to=&#x27;images/&#x27;</code><ul><li>실제 이미지가 저장되는 경로를 지정</li></ul></li><li><code>blank=True</code><ul><li>이미지 필드에 빈 값 (빈 문자열)이 허용되도록 설정 (이미지를 선택적으로 업로드할 수 있도록)</li></ul></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># articles/models.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">db </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> models</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    title </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">max_length</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">10</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    content </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># saved to &#x27;MEDIA_ROOT/images&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    image </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">ImageField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">blank</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">True</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> upload_to</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;images/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    created_at </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">DateTimeField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">auto_now_add</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">True</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    updated_at </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">DateTimeField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">auto_now</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">True</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">__str__</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">title</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="2-filefield-attribute---upload_to">(2) FileField attribute - <code>upload_to</code><a aria-hidden="true" class="hash-link" href="#2-filefield-attribute---upload_to" title="Direct link to heading">​</a></h5><ul><li>미디어 파일의 업로드 디렉토리 경로 및 파일 이름을 설정할 수 있도록 도와줌</li></ul><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="3-model-field-option---blank">(3) Model field option - <code>blank</code><a aria-hidden="true" class="hash-link" href="#3-model-field-option---blank" title="Direct link to heading">​</a></h5><ul><li>기본 값 : False</li><li>True일 경우 필드를 비워둘 수 있음. (사용자가 이미지를 선택적으로 업로드 할 수 있도록)<ul><li>DB에는 빈 문자(<code>&quot;&quot;</code>)가 저장됨</li></ul></li><li>유효성 검사에서 사용 됨 (<code>is_valid</code>)<ul><li>필드에 <code>blank=True</code>가 있으면 form 유효성 검사에서 빈 값을 입력할 수 있음.</li></ul></li></ul><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="4-model-field-option---null">(4) Model field option - <code>null</code><a aria-hidden="true" class="hash-link" href="#4-model-field-option---null" title="Direct link to heading">​</a></h5><ul><li>기본 값 : False</li><li>True면 django는 빈 값을 DB에 NULL로 저장</li><li><strong>주의 사항</strong><ul><li>CharField, TextField와 같은 <strong>문자열 기반 필드에는 사용하는 것을 피해야 함</strong></li><li>문자열 기반 필드에 True로 설정 시 &#x27;데이터 없음(no data)&#x27;에 &#x27;빈 문자열(1)&#x27;과 &#x27;NULL(2)&#x27;의 2 가지 가능한 값이 있음을 의미하게 됨</li><li>대부분의 경우 &#x27;데이터 없음&#x27;에 대해 두 개의 가능한 값을 갖는 것은 중복되며, django는 NULL이 아닌 빈 문자열을 사용하는 것이 규칙</li></ul></li></ul><br><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>blank &amp; null 비교</h5></div><div class="admonition-content"><ul><li><p><code>blank</code>: Validation-related</p></li><li><p><code>null</code>: Database-related</p></li><li><p>문자열 기반 및 비문자열 기반 필드 모두에 대해 null option은 DB에만 영향을 미치므로, form에서 빈 값을 허용하려면 <code>blank=True</code>를 설정해야함.</p></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># models.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Person</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    model </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">max_length</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">10</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># null=True 금지</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    bio </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">max_length</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">50</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> blank</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">True</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># null, blank 모두 설정 가능 -&gt; 문자열 기반 필드가 아니기 때문</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    birth_date </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">DataField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">null</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">True</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> blank</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">True</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="5--migration">(5)  migration<a aria-hidden="true" class="hash-link" href="#5--migration" title="Direct link to heading">​</a></h5><ul><li>마이그레이션 실행 (단, ImageField를 사용하기 위해서는 <strong>Pillow 라이브러리 설치 필요</strong>)</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">$ python manage.py makemigrations  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># 오류</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">$ pip </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">install</span><span class="token plain"> Pillow</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">$ python manage.py makemigrations</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">$ python manage.py migrate</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">$ pip freeze </span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> requirements.txt</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><ul><li>게시글 작성 form에서 enctype* 지정</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">&lt;!-- create.html --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">form</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">action</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{% url </span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">articles:create</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)"> %}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">method</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">POST</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">enctype</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">multipart/form-data</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  {% csrf_token %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  {{ form.as_p }}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">input</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">submit</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">작성</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">form</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>form 태그 – enctype(인코딩) 속성</h5></div><div class="admonition-content"><ul><li><code>multipart/form-data</code> ⭐<ul><li>파일/이미지 업로드시에 반드시 사용해야 함 (전송되는 데이터의 형식을 지정)</li><li><code>&lt;input type=&quot;file&quot;&gt;</code>을 사용할 경우 사용</li></ul></li></ul><ul><li><code>aplication/x-www-form-urlencoded</code><ul><li>(기본값) 모든 문자 인코딩</li></ul></li></ul><ul><li><code>text/plain</code><ul><li>인코딩을 하지 않은 문자 상태로 전송</li><li>공백은 &#x27;+&#x27; 기호로 변환하지만, 특수 문자는 인코딩 하지 않음</li></ul></li></ul></div></div><br><ul><li>업로드된 파일은 request.FILES 객체로 전달됨. 이미지 업로드 후 테이블 &amp; 파일 트리 확인하기</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># views.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@require_http_methods</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;GET&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">create</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">method </span><span class="token operator" style="color:rgb(12, 150, 155)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># form = ArticleForm(data=request.POST,files=request.FILES)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        form </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> ArticleForm</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">FILES</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> form</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">is_valid</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            article </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> form</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">save</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token keyword" style="color:rgb(12, 150, 155)">return</span><span class="token plain"> redirect</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;articles:detail&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pk</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">else</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        form </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> ArticleForm</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    context </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;form&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> form</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;articles/create.html&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><ul><li><code>input</code> 태그 – <code>accept</code> 속성<ul><li><strong>입력 허용할 파일 유형을 나타내는 문자열</strong></li><li>쉼표로 구분된 고유 파일 유형 지정자(unique file type specifiers)</li><li>하지만 파일 검증은 하지 못함 (이미지만 accept 해 놓더라도 비디오나 오디오 파일을 제출할 수 있음)</li></ul></li></ul><ul><li><strong>고유 파일 유형 지정자</strong><ul><li><code>&lt;input type=&quot;file&quot;&gt;</code>에서 선택할 수 있는 파일의 종류를 설명하는 문자열</li><li>파일 업로드 시 허용할 파일 형식에 대해 자동으로 필터링 (이미지 파일, pdf 파일 등)</li></ul></li></ul><p><img alt="image" src="/TIL/assets/images/static3-3d805fae0be49a7e80b772578b3d8324.png"></p><br><h5 class="anchor anchorWithStickyNavbar_y2LR" id="6-db-및-파일-트리-확인">(6) DB 및 파일 트리 확인<a aria-hidden="true" class="hash-link" href="#6-db-및-파일-트리-확인" title="Direct link to heading">​</a></h5><ul><li>실제 파일 위치 : <code>MEDIA_ROOT/images/</code></li><li>DB에 저장되는 것은 파일의 경로</li></ul><p><img alt="image-20210908112105368" src="/TIL/assets/images/static2-cc3b4011ea0030970d225943518b9f6f.png"></p><br><h4 class="anchor anchorWithStickyNavbar_y2LR" id="3-read">3. READ<a aria-hidden="true" class="hash-link" href="#3-read" title="Direct link to heading">​</a></h4><ul><li><code>article.image.url</code> == 업로드 파일의 상대 URL</li><li><code>article.image</code> == 업로드 파일의 파일 이름</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">&lt;!-- detail.html --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% extends &#x27;base.html&#x27; %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">h2</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">text-center</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain">DETAIL</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">h2</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">h3</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain">{{ article.pk }} 번 글</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">h3</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">img</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{{ article.image.url}}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{{ article.image }}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">hr</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% endblock %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><ul><li>개발자 도구에서 <code>MEDIA_URL</code> 확인하기</li></ul><br><h4 class="anchor anchorWithStickyNavbar_y2LR" id="4-update">4. UPDATE<a aria-hidden="true" class="hash-link" href="#4-update" title="Direct link to heading">​</a></h4><ul><li>이미지 수정하기<ul><li>이미지는 바이너리 데이터(하나의 덩어리)이기 때문에 텍스트처럼 일부만 수정 하는 것은 불가능</li><li>때문에 새로운 사진으로 덮어 씌우는 방식을 사용</li></ul></li><li>코드 수정 후 게시글 수정 시도해보기</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">&lt;!-- update.html --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">h1</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">text-center</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain">UPDATE</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">h1</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">form</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">action</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">method</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">POST</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">enctype</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">multipart/form-data</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      {% csrf_token %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      {% bootstrap_form form layout=&#x27;horizontal&#x27; %} </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      {% buttons submit=&quot;Submit&quot; reset=&quot;Cancel&quot; %} {% endbuttons %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">form</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">hr</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">a</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">href</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{% url </span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">articles: detail</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&#x27;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)"> article.pk %}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain">[back]</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">a</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% endblock %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># views.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@require_http_methods</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;GET&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">update</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> pk</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    article Article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">pk</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">pk</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">method </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        form </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> ArticleForm </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain"> POST</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">FILES</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> instance</span><span class="token operator" style="color:rgb(12, 150, 155)">-</span><span class="token plain">article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> form</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">is_valid</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            form</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">save</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token keyword" style="color:rgb(12, 150, 155)">return</span><span class="token plain"> redirect</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;articles: detail&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pk</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">else</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        form </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> ArticleForm </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">instance</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    context </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;form&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> form</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;article&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">return</span><span class="token plain"> render</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;articles/update.html&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><ul><li>detail 페이지를 출력하지 못하는 문제 해결 (image가 없는 게시글의 경우 에러 발생)</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">&lt;!-- detail.html --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% extends &#x27;base.html&#x27; %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">{% block content %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">h1</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain">DETAIL</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">h1</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">h2</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain">{{ article.pk }} 번 글</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">h2</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  {% if article.image %}</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">img</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{{ article.image.url }}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{{ article.image }}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  {% endif %}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h3 class="anchor anchorWithStickyNavbar_y2LR" id="이미지-resizing">이미지 Resizing<a aria-hidden="true" class="hash-link" href="#이미지-resizing" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="이미지-크기-변경하기">이미지 크기 변경하기<a aria-hidden="true" class="hash-link" href="#이미지-크기-변경하기" title="Direct link to heading">​</a></h4><ul><li>실제 원본 이미지를 서버에 그대로 로드 하는 것은 여러 이유로 부담이 큼</li><li>html img 태그에서 직접 사이즈를 조정할 수도 있지만(width 와 height 로 조정), 용량 문제도 있기 때문에 업로드 될 때의 이미지 자체를 resizing 해야 함</li><li><a href="https://django-imagekit.readthedocs.io/en/1.1.0/" target="_blank" rel="noopener noreferrer">django-imagekit</a> 모듈 활용</li></ul><br><ul><li><code>pilkit</code>, <code>django-imagekit</code> 설치 → <code>INSTALLED_APPS</code>에 추가</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">$ pip </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">install</span><span class="token plain"> pilkit</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">$ pip </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">install</span><span class="token plain"> django-imagekit</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">$ pip freeze </span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> requirements.txt</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># settings.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">INSTALLED_APP </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;imagekit&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><ul><li>원본 이미지를 재가공하여 저장 (원본x, 썸네일o) 필드 변경 후 마이그레이션<ul><li><code>ProcessedImageField()</code>의 parameter로 작성된 값들은 makemigrations 후에 변경이 되더라도 <strong>다시 makemigrations 를 해줄 필요없이 즉시 반영 됨</strong></li></ul></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># models.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> imagekit</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">models </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> ProcessedImageField </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> imagekit</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">processors </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> Thumbnail</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    image </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> ProcessedImageField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                blank</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">True</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                processors</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Thumbnail</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">200</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token number" style="color:rgb(170, 9, 130)">300</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                </span><span class="token builtin" style="color:rgb(72, 118, 214)">format</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;JPEG&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                options</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;quality&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">90</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">$ python manage.py makemigrations</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">$ python manage.py migrate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><ul><li>원본을 유지하는 방식<ul><li>썸네일을 미리 만드는 것이 아니라, cache를 이용해 필요할 때마다 만든다. </li><li><code>media/CACHE/images/origins/default/...</code></li></ul></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># models.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> imagekit</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">models </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> ProcessedImageField </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> imagekit</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">processors </span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> Thumbnail</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Article</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    image </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">ImageField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">blank</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">True</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> upload_to</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;origins/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    image_thumbnail </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> ProcessedImageField</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                source</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;image&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                processors</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Thumbnail</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">100</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token number" style="color:rgb(170, 9, 130)">50</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                </span><span class="token builtin" style="color:rgb(72, 118, 214)">format</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;JPEG&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                options</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;quality&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">90</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token plain">$ python manage.py makemigrations</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">$ python manage.py migrate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">img</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{{ article.image_thumbnail.url }}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag" style="color:rgb(153, 76, 195)"> </span><span class="token tag attr-name" style="color:rgb(72, 118, 214);font-style:italic">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(153, 76, 195)">=</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag attr-value" style="color:rgb(153, 76, 195)">{{ article.image_thumbnail }}</span><span class="token tag attr-value punctuation" style="color:rgb(153, 76, 195)">&quot;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br><h2 class="anchor anchorWithStickyNavbar_y2LR" id="마무리">마무리<a aria-hidden="true" class="hash-link" href="#마무리" title="Direct link to heading">​</a></h2><ul><li>Static files (STATIC_URL, STATICFILES_DIRS)</li><li>Media files (MEDIA_ROOT, MEDIA_URL)</li><li>Image Upload (ImageField, form enctype)</li><li>Image Resizing (django-imagekit)</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/TIL/docs/backend/Django/02-04"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Authentication System</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/TIL/docs/backend/Django/02-06"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SQL &amp; ORM<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#static-files" class="table-of-contents__link toc-highlight">Static Files</a><ul><li><a href="#static-file-정적-파일" class="table-of-contents__link toc-highlight">Static file (정적 파일)</a></li><li><a href="#the-staticfiles-app" class="table-of-contents__link toc-highlight">The staticfiles app</a></li><li><a href="#정적-파일-사용하기" class="table-of-contents__link toc-highlight">정적 파일 사용하기</a></li></ul></li><li><a href="#media-files" class="table-of-contents__link toc-highlight">Media Files</a><ul><li><a href="#media-file-미디어-파일" class="table-of-contents__link toc-highlight">Media file (미디어 파일)</a></li><li><a href="#이미지-업로드" class="table-of-contents__link toc-highlight">이미지 업로드</a></li><li><a href="#이미지-resizing" class="table-of-contents__link toc-highlight">이미지 Resizing</a></li></ul></li><li><a href="#마무리" class="table-of-contents__link toc-highlight">마무리</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/TIL/docs/frontend/intro">Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/TIL/docs/backend/intro">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/TIL/docs/CS/intro">CS</a></li><li class="footer__item"><a class="footer__link-item" href="/TIL/docs/etc/intro">Etc</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/devpla/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://hing9u.tistory.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2023 Devpla. Built with Docusaurus💜</div></div></div></footer></div>
<script src="/TIL/assets/js/runtime~main.72d8d802.js"></script>
<script src="/TIL/assets/js/main.0c15651c.js"></script>
</body>
</html>